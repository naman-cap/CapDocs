{"openapi":"3.1.0","info":{"title":"promo-engine","version":"1.0"},"servers":[{"url":"https://{host}/v1","variables":{"host":{"default":"host"}}}],"components":{"securitySchemes":{"sec0":{"type":"oauth2","flows":{}}}},"security":[{"sec0":[]}],"paths":{"/promotion-management/promotions/settings/strategy":{"get":{"summary":"Get Cart Promotion Settings","description":"Retrieves Cart promotions settings configured for the org.","operationId":"get-promotion-settings","parameters":[{"name":"mode","in":"query","description":"Pass `DISCOUNT` to get settings of promotions, `PAYMENT_VOUCHER` for gift card settings.","schema":{"type":"string","enum":["DISCOUNT","PAYMENT_VOUCHER"]}}],"responses":{"200":{"description":"200","content":{"application/json":{"examples":{"Result":{"value":"{\n    \"data\": {\n        \"promotionRankingStrategies\": [\n            \"EXPIRY_BASED\",\n            \"MAX_DISCOUNT\"\n        ],\n        \"rewardRankingStrategies\": [\n            \"CODE_FIRST\",\n            \"PROMOTION_FIRST\",\n            \"REWARDS_FIRST\"\n        ],\n        \"isActive\": true,\n        \"mode\": \"DISCOUNT\",\n        \"isEnableCartLevelStacking\": true\n    },\n    \"errors\": []\n}"}},"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"promotionRankingStrategies":{"type":"array","items":{"type":"string","example":"EXPIRY_BASED"}},"rewardRankingStrategies":{"type":"array","items":{"type":"string","example":"CODE_FIRST"}},"isActive":{"type":"boolean","example":true,"default":true},"mode":{"type":"string","example":"DISCOUNT"},"isEnableCartLevelStacking":{"type":"boolean","example":true,"default":true}}},"errors":{"type":"array"}}}}}},"400":{"description":"400","content":{"application/json":{"examples":{"Result":{"value":"{}"}},"schema":{"type":"object","properties":{}}}}}},"deprecated":false}},"/promotion-management/promotions":{"get":{"summary":"Get Cart Promotions","description":"Retrieves all cart and catalog promotions created for the org.","operationId":"get-promotions","responses":{"200":{"description":"200","content":{"application/json":{"examples":{"Result":{"value":"{\n    \"data\": [\n        {\n            \"id\": \"62b1cd9a1fe59547d8d2e1d4\",\n            \"name\": \"code link check 58\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"\",\n            \"type\": \"CODE\",\n            \"condition\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                    \"kpi\": \"SUBTOTAL\",\n                    \"operator\": \"GREATER_THAN\",\n                    \"value\": \"1000.000000\"\n                }\n            },\n            \"action\": {\n                \"type\": \"CART_BASED\",\n                \"cartBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"1.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1655819674437,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1655819674437,\n            \"startDate\": 1655922600000,\n            \"endDate\": 1656095399999,\n            \"campaignId\": 1065129,\n            \"promotionRestrictions\": {\n                \"Code\": [\n                    {\n                        \"kpi\": \"REDEMPTION\",\n                        \"limit\": \"1.000000\"\n                    }\n                ]\n            },\n            \"earnLimitedToSpecificAudience\": false,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"62b1ca661fe59547d8d2e1c6\",\n            \"name\": \"No limit issuance check\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"\",\n            \"type\": \"EARNING\",\n            \"condition\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                    \"kpi\": \"SUBTOTAL\",\n                    \"operator\": \"GREATER_THAN\",\n                    \"value\": \"1.000000\"\n                }\n            },\n            \"action\": {\n                \"type\": \"CART_BASED\",\n                \"cartBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"20.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1655818854177,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1655818854177,\n            \"startDate\": 1655749800000,\n            \"endDate\": 1656613799999,\n            \"campaignId\": 1065129,\n            \"earningCriteria\": {\n                \"criteriaName\": \"TransactionAdd_Criteria\",\n                \"earnedFromType\": \"ACTIVITY\",\n                \"milestoneId\": 0,\n                \"groupId\": 0,\n                \"eventType\": \"TransactionAdd\",\n                \"criteriaDsl\": \"true\",\n                \"criteriaDslJson\": \"\\n{\\n  \\\"arity\\\":\\\"literal\\\",\\n  \\\"value\\\":\\\"true\\\",\\n  \\\"type\\\":\\\"boolean:primitive\\\"\\n}\",\n                \"active\": true\n            },\n            \"promotionRestrictions\": {\n                \"Customer\": [\n                    {\n                        \"kpi\": \"REDEMPTION\",\n                        \"limit\": \"21.000000\"\n                    }\n                ],\n                \"Cart\": [\n                    {\n                        \"kpi\": \"DISCOUNT\",\n                        \"limit\": \"22.000000\"\n                    },\n                    {\n                        \"kpi\": \"REDEMPTION\",\n                        \"limit\": \"42.000000\"\n                    }\n                ]\n            },\n            \"earnLimitedToSpecificAudience\": true,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": -1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"62b1c9f41fe59547d8d2e1bd\",\n            \"name\": \"earning chekc 84\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"\",\n            \"type\": \"EARNING\",\n            \"condition\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                    \"kpi\": \"SUBTOTAL\",\n                    \"operator\": \"GREATER_THAN\",\n                    \"value\": \"10.000000\"\n                }\n            },\n            \"action\": {\n                \"type\": \"CART_BASED\",\n                \"cartBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"30.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1655818739980,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1655818739980,\n            \"startDate\": 1655836200000,\n            \"endDate\": 1656613799999,\n            \"campaignId\": 1065129,\n            \"earningCriteria\": {\n                \"criteriaName\": \"TransactionAdd_Criteria\",\n                \"earnedFromType\": \"ACTIVITY\",\n                \"milestoneId\": 0,\n                \"groupId\": 0,\n                \"eventType\": \"TransactionAdd\",\n                \"criteriaDsl\": \"true\",\n                \"criteriaDslJson\": \"\\n{\\n  \\\"arity\\\":\\\"literal\\\",\\n  \\\"value\\\":\\\"true\\\",\\n  \\\"type\\\":\\\"boolean:primitive\\\"\\n}\",\n                \"active\": true\n            },\n            \"promotionRestrictions\": {},\n            \"earnLimitedToSpecificAudience\": true,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 20,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"62b1c9671fe59547d8d2e1b4\",\n            \"name\": \"check cod e link\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"\",\n            \"type\": \"CODE\",\n            \"condition\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                    \"kpi\": \"SUBTOTAL\",\n                    \"operator\": \"GREATER_THAN\",\n                    \"value\": \"10.000000\"\n                }\n            },\n            \"action\": {\n                \"type\": \"CART_BASED\",\n                \"cartBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"20.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1655818599407,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1655818599407,\n            \"startDate\": 1656095400000,\n            \"endDate\": 1658687399999,\n            \"campaignId\": 1065129,\n            \"promotionRestrictions\": {\n                \"Code\": [\n                    {\n                        \"kpi\": \"REDEMPTION\",\n                        \"limit\": \"1.000000\"\n                    }\n                ]\n            },\n            \"earnLimitedToSpecificAudience\": false,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"62b1c91a1fe59547d8d2e1ad\",\n            \"name\": \"Temp checkable\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"\",\n            \"type\": \"POS\",\n            \"condition\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                    \"kpi\": \"SUBTOTAL\",\n                    \"operator\": \"EQUALS\",\n                    \"value\": \"10.000000\"\n                }\n            },\n            \"action\": {\n                \"type\": \"CART_BASED\",\n                \"cartBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"20.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1655818522813,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1655818522813,\n            \"startDate\": 1655749800000,\n            \"endDate\": 1656613799999,\n            \"campaignId\": 1065129,\n            \"promotionRestrictions\": {},\n            \"earnLimitedToSpecificAudience\": false,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"62b05a14ab178d6d72d5d3cd\",\n            \"name\": \"upcoming promo check 457\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": false,\n            \"messageLabel\": \"\",\n            \"type\": \"CUSTOMER\",\n            \"condition\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                    \"kpi\": \"SUBTOTAL\",\n                    \"operator\": \"EQUALS\",\n                    \"value\": \"10.000000\"\n                }\n            },\n            \"action\": {\n                \"type\": \"CART_BASED\",\n                \"cartBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"10.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1655724564346,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1655724645016,\n            \"startDate\": 1655836200000,\n            \"endDate\": 1659292199999,\n            \"campaignId\": 1065129,\n            \"promotionRestrictions\": {},\n            \"earnLimitedToSpecificAudience\": true,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"6267ad4a895b313a07023f3b\",\n            \"name\": \"Code l2\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"\",\n            \"type\": \"CODE\",\n            \"condition\": {\n                \"type\": \"PRODUCT\",\n                \"productCondition\": {\n                    \"criteriaList\": [\n                        {\n                            \"entity\": \"CATEGORY\",\n                            \"operator\": \"IN\",\n                            \"values\": [\n                                \"ahcbajgv\",\n                                \"dsad\",\n                                \"hello\"\n                            ]\n                        },\n                        {\n                            \"entity\": \"ATTRIBUTE\",\n                            \"operator\": \"NOT_IN\",\n                            \"values\": [\n                                \"XXL\",\n                                \"value_2004476\",\n                                \"value_004476\",\n                                \"Medium\",\n                                \"asasss90\",\n                                \"100\",\n                                \"small\"\n                            ],\n                            \"attributeName\": \"Size\"\n                        }\n                    ],\n                    \"kpi\": \"AMOUNT\",\n                    \"value\": \"10.000000\",\n                    \"operator\": \"EQUALS\"\n                }\n            },\n            \"action\": {\n                \"type\": \"PRODUCT_BASED\",\n                \"productBasedAction\": {\n                    \"productBasedCondition\": {\n                        \"type\": \"PRODUCT\",\n                        \"productCondition\": {\n                            \"criteriaList\": [\n                                {\n                                    \"entity\": \"CATEGORY\",\n                                    \"operator\": \"IN\",\n                                    \"values\": [\n                                        \"dsad\",\n                                        \"hello\"\n                                    ]\n                                }\n                            ],\n                            \"kpi\": \"NONE\",\n                            \"value\": \"0.000000\",\n                            \"operator\": \"NONE\"\n                        }\n                    },\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"15.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1650961738400,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1652255504663,\n            \"startDate\": 1650911400000,\n            \"endDate\": 1651343399999,\n            \"campaignId\": 1065129,\n            \"promotionRestrictions\": {\n                \"Code\": [\n                    {\n                        \"kpi\": \"REDEMPTION\",\n                        \"limit\": \"1.000000\"\n                    }\n                ]\n            },\n            \"earnLimitedToSpecificAudience\": false,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"6250379d91653976534c6283\",\n            \"name\": \"gvhjk\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"\",\n            \"type\": \"CUSTOMER\",\n            \"storeCriteria\": {\n                \"type\": \"STORE\",\n                \"values\": [\n                    50009404,\n                    50009325\n                ],\n                \"operator\": \"IN\"\n            },\n            \"condition\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                    \"kpi\": \"ITEMCOUNT\",\n                    \"operator\": \"EQUALS\",\n                    \"value\": \"6.000000\"\n                }\n            },\n            \"action\": {\n                \"type\": \"CART_BASED\",\n                \"cartBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"3.000000\"\n                }\n            },\n            \"createdBy\": 15000449,\n            \"createdOn\": 1649424285860,\n            \"lastUpdatedBy\": 15000449,\n            \"lastUpdatedOn\": 1649424285860,\n            \"startDate\": 1649183400000,\n            \"endDate\": 1654021799999,\n            \"campaignId\": 418483,\n            \"promotionRestrictions\": {},\n            \"earnLimitedToSpecificAudience\": true,\n            \"customFieldValues\": {},\n            \"customerActivationRequired\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"62298f21d4573716baa3000d\",\n            \"name\": \"Fuel Vouchers $10 SKU__9\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"test!!\",\n            \"type\": \"CODE\",\n            \"condition\": {\n                \"type\": \"PRODUCT\",\n                \"productCondition\": {\n                    \"criteriaList\": [\n                        {\n                            \"entity\": \"SKU\",\n                            \"operator\": \"IN\",\n                            \"values\": [\n                                \"SKU_5\"\n                            ]\n                        }\n                    ],\n                    \"kpi\": \"AMOUNT\",\n                    \"value\": \"0.000000\",\n                    \"operator\": \"GREATER_THAN\"\n                }\n            },\n            \"action\": {\n                \"type\": \"PRODUCT_BASED\",\n                \"productBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"10.000000\"\n                }\n            },\n            \"createdBy\": 222,\n            \"createdOn\": 1646890785613,\n            \"lastUpdatedBy\": 222,\n            \"lastUpdatedOn\": 1646890785613,\n            \"startDate\": 1644219479939,\n            \"endDate\": 1944392279939,\n            \"campaignId\": 2013,\n            \"promotionRestrictions\": {\n                \"Code\": [\n                    {\n                        \"kpi\": \"REDEMPTION\",\n                        \"limit\": \"1.000000\"\n                    }\n                ]\n            },\n            \"earnLimitedToSpecificAudience\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        },\n        {\n            \"id\": \"62289c71a2e28240b565983a\",\n            \"name\": \"Fuel Vouchers $10 SKU__8\",\n            \"orgId\": 0,\n            \"priority\": 0,\n            \"active\": true,\n            \"messageLabel\": \"test!!\",\n            \"type\": \"CODE\",\n            \"condition\": {\n                \"type\": \"PRODUCT\",\n                \"productCondition\": {\n                    \"criteriaList\": [\n                        {\n                            \"entity\": \"SKU\",\n                            \"operator\": \"IN\",\n                            \"values\": [\n                                \"SKU_5\"\n                            ]\n                        }\n                    ],\n                    \"kpi\": \"AMOUNT\",\n                    \"value\": \"0.000000\",\n                    \"operator\": \"GREATER_THAN\"\n                }\n            },\n            \"action\": {\n                \"type\": \"PRODUCT_BASED\",\n                \"productBasedAction\": {\n                    \"type\": \"ABSOLUTE\",\n                    \"value\": \"10.000000\"\n                }\n            },\n            \"createdBy\": 222,\n            \"createdOn\": 1646828657761,\n            \"lastUpdatedBy\": 222,\n            \"lastUpdatedOn\": 1646828657761,\n            \"startDate\": 1644219479939,\n            \"endDate\": 1944392279939,\n            \"campaignId\": 2013,\n            \"promotionRestrictions\": {\n                \"Code\": [\n                    {\n                        \"kpi\": \"REDEMPTION\",\n                        \"limit\": \"1.000000\"\n                    }\n                ]\n            },\n            \"earnLimitedToSpecificAudience\": false,\n            \"mode\": \"DISCOUNT\",\n            \"maxIssuancePerCustomer\": 1,\n            \"isStackable\": false\n        }\n    ]\n}"}},"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"62b1cd9a1fe59547d8d2e1d4"},"name":{"type":"string","example":"code link check 58"},"orgId":{"type":"integer","example":0,"default":0},"priority":{"type":"integer","example":0,"default":0},"active":{"type":"boolean","example":true,"default":true},"messageLabel":{"type":"string","example":""},"type":{"type":"string","example":"CODE"},"condition":{"type":"object","properties":{"type":{"type":"string","example":"CART"},"cartCondition":{"type":"object","properties":{"kpi":{"type":"string","example":"SUBTOTAL"},"operator":{"type":"string","example":"GREATER_THAN"},"value":{"type":"string","example":"1000.000000"}}}}},"action":{"type":"object","properties":{"type":{"type":"string","example":"CART_BASED"},"cartBasedAction":{"type":"object","properties":{"type":{"type":"string","example":"ABSOLUTE"},"value":{"type":"string","example":"1.000000"}}}}},"createdBy":{"type":"integer","example":15000449,"default":0},"createdOn":{"type":"integer","example":1655819674437,"default":0},"lastUpdatedBy":{"type":"integer","example":15000449,"default":0},"lastUpdatedOn":{"type":"integer","example":1655819674437,"default":0},"startDate":{"type":"integer","example":1655922600000,"default":0},"endDate":{"type":"integer","example":1656095399999,"default":0},"campaignId":{"type":"integer","example":1065129,"default":0},"promotionRestrictions":{"type":"object","properties":{"Code":{"type":"array","items":{"type":"object","properties":{"kpi":{"type":"string","example":"REDEMPTION"},"limit":{"type":"string","example":"1.000000"}}}}}},"earnLimitedToSpecificAudience":{"type":"boolean","example":false,"default":true},"customFieldValues":{"type":"object","properties":{}},"customerActivationRequired":{"type":"boolean","example":false,"default":true},"mode":{"type":"string","example":"DISCOUNT"},"maxIssuancePerCustomer":{"type":"integer","example":1,"default":0},"isStackable":{"type":"boolean","example":false,"default":true}}}}}}}}},"400":{"description":"400","content":{"application/json":{"examples":{"Result":{"value":"{}"}},"schema":{"type":"object","properties":{}}}}}},"deprecated":false}}},"x-readme":{"headers":[],"explorer-enabled":true,"proxy-enabled":true},"x-readme-fauxas":true}