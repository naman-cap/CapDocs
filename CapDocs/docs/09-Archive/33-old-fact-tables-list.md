---
title: Old Fact Tables list
excerpt: ''
deprecated: false
hidden: true
metadata:
  title: ''
  description: ''
  robots: index
next:
  description: ''
---
# Points Fact Table


| Column name <br  />(Type) | Description | Available for export in points template? |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| bill\_id<br  />\(String) | Loyalty log id or bill id is a unique identifier for a transaction for which the points are awarded or redeemed.<br  />It is populated ( primarily for transactional point award entries)from PA, PAL, PALP, PABP tables on the source side. This id has reference to the particular bill where points are awarded or redeemed.<br  /><br  />note:<br  />PA - Points Awarded<br  />PAL - Points Awarded Line Items<br  />PALP-Points Awarded Lineitem Promotion<br  />PABP -Points Awarded Bill Promotion<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure name: Bill_Id |  |  |  |  |  |  |
| bill\_number<br  /> (String) | The system-generated bill number for which the points are awarded or redeemed.<br  /><br  />bill\_number is populated if there is a valid bill\_id populated in source loyalty side or else empty or null is populated as bill\_number<br  /><br  />Linked table on EI : NA | Yes.<br  /><br  />Measure name: Bill_Number<br  /> |  |  |  |  |  |  |
| bill\_lineitem\_id<br  />\[Type : String\] | The lineitem id against which points have been allocated .<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure: Bill_Lineitem_Id |  |  |  |  |  |  |
| awarded\_ref\_id<br  />(String) | This is the primary key of the PA (Points Awarded) table maintained at the source side.<br  /><br  />A new entry is created for every single point award event.<br  /><br  />Note: This is key column - can be used to track evolution of points balance against every PA entry, helping data operators gain insights into promotion usage and attribute sourcing of points to appropriate programs as applicable.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure: Awarded\_Ref_Id |  |  |  |  |  |  |
| allocated\_points<br  />(String) | This is points awarded on a particular event. Can be on bill level, lineitem level or customer level<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure name: Allocated_Points<br  /> |  |  |  |  |  |  |
| deducted\_points<br  />\(String) | Number of redeemed, returned, or expired points which are deducted from the total points<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure: Deducted\_Points |  |  |  |  |  |  |
| deduction\_currency\_value<br  />\[Type : String\] | Holds the currency value of the deducted points.<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| deduction\_summary\_id<br  />(String) | Deducted points related to a single event are grouped using a deduction summary ID for analysis.<br  /><br  />This is the primary key of the PRS (Point Redemption Summary) table.<br  />This will be used as the key to connect PointFact to the PRSFact (new) in order to pick the right<br  />updated value for Redemption\_Bill\_Number. All entries corresponding to a given redemption or<br  />reversal entry will have corresponding same deduction\_summary\_id.<br  /><br  />Linked table on EI : [points\_redemption\_summary](#gid=2099558269) | Yes<br  /><br  />Deduction\_Summary\_Id |  |  |  |  |  |  |
| dim\_awarded\_date\_id<br  />(Date) | It is the date when points are awarded to the customer. Further details of the date can be obtained from the date dimension table.<br  />dim\_awarded\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : [date](#gid=780615792) |  |  |  |  |  |  |  |
| dim\_awarded\_expiry\_date\_id<br  /> (Date) | It is the the date when the points expired if left unused. Further details of the date can be obtained from the date dimension table. dim\_awarded\_expiry\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  /><br  />Linked table on EI : [date](#gid=780615792) |  |  |  |  |  |  |  |
| dim\_awarded\_zone\_till\_id | Captures the till\_id of the zone where points were awarded.<br  /><br  />Further details of the till can be obtained from the zone\_till dimension table.dim\_awarded\_zone\_till\_id would be stored in the 'till\_id' column of the zone\_till dimension table.<br  /><br  />Linked table on EI : zone\_till |  |  |  |  |  |  |  |
| dim\_category\_id<br  /> (String) | This id has reference to points\_category table. It tells the type of points which are awarded/deducted.<br  /><br  />Further details of the category can be obtained from the points\_category dimension table.dim\_category\_id would be be stored in the 'category\_id' column of the points\_category dimension table.<br  /><br  /><br  />Linked table on EI : points\_category |  |  |  |  |  |  |  |
| dim\_deduction\_type\_id<br  />(String) | Linked to deduction\_type table , it gives us information about the type of deduction. The dim\_deduction\_type\_id refers to the id column of the deduction\_type table<br  /><br  />Linked table on EI : deduction\_type | Yes<br  /><br  />Dimension Name:deduction\_type\_\_Deduction\_Type |  |  |  |  |  |  |
| dim\_event\_date\_id<br  /> (Date) | Measures the date when the event has occured.<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_event\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date |  |  |  |  |  |  |  |
| dim\_event\_program\_id<br  />(String) | Linked to program table , it gives us information about the loyalty program for which the data is shown<br  /><br  />Corresponds to the program\_id column of the program table<br  /><br  />Linked table on EI : program |  |  |  |  |  |  |  |
| dim\_event\_time\_id<br  /> (String) | Measures the time stamp when the event has occured , it captures upto minutes and seconds is not captured.<br  /><br  />Corresponds to the time\_id column of the time table<br  /><br  />Linked table on EI : time |  |  |  |  |  |  |  |
| dim\_event\_user\_id | User identifier , this is an integer set internally by capillary.<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| dim\_event\_zone\_till\_id | Captures the till\_id of a store, where the event has occured.<br  /><br  />Further details of the till can be obtained from the zone\_till dimension table.dim\_awarded\_zone\_till\_id would be stored in the 'till\_id' column of the zone\_till dimension table.<br  /><br  /><br  />Linked table on EI : zone\_till |  |  |  |  |  |  |  |
| dim\_expiry\_date\_id<br  />(Date) | Date when the allocated points is supposed to expire if unused. Further details of the date can be obtained from the date dimension table.dim\_awarded\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  /><br  />Linked table on EI : date |  |  |  |  |  |  |  |
| dim\_expiry\_time\_id<br  />(Date) | Time when the allocated points is supposed to expire if unused.<br  />Corresponds to the time\_id column of the time table<br  /><br  />Linked table on EI : time |  |  |  |  |  |  |  |
| dim\_latest\_updated\_date\_id<br  /> (Date) | Date when the records were last updated.<br  /><br  />Linked table on EI : [date](#gid=780615792) |  |  |  |  |  |  |  |
| dim\_latest\_updated\_time\_id<br  />(String) | Time when the records were last updated<br  />Corresponds to the time\_id column of the time table<br  /><br  />Linked table on EI : time |  |  |  |  |  |  |  |
| dim\_points\_promotion\_id<br  />(String) | Refers to the id column of points\_promotions table , contains the promotion name against which the points were allocated/redeemed/expired (the event type)<br  /><br  />Linked table on EI : [points\_promotions table](#gid=780615792) | Yes<br  /><br  />Dimension Name:points\_promotion\_\_Points\_Promotion\_Type<br  /> |  |  |  |  |  |  |
| redemption\_bill\_id<br  />(String) | Loyalty log ID or bill ID for which the points are redeemed. The billing ID is generated by Capillary's system.<br  /><br  />Bill\_Id coming from PRS fact table<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Redemption\_Bill\_Id |  |  |  |  |  |  |
| redemption\_bill\_number<br  />(String) | Bill number for which the points are redeemed. The bill number is passed from the source data. If the source data doesn't have any value for the redemption bill number then the system shows 'Not Captured'.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Redemption\_Bill\_Number<br  /> |  |  |  |  |  |  |
| year<br  />(String) | Year of the data/event occurence<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| dim\_points\_event\_type\_id<br  />(String) | Refer to points\_event\_type table , specifies if the poitns were awarded or deducted<br  /><br  />Linked table on EI : points\_event\_type | Yes<br  /><br  />Dimension :points\_event\_type\_\_Points\_Event\_Type<br  /> |  |  |  |  |  |  |
| dim\_points\_awarded\_type\_id<br  />(String) | Refer to points\_awarded\_type table. It specifies the type of points awarded<br  /><br  />Linked table on EI : points\_awarded\_type | Yes<br  /><br  />Dimension :points\_awarded\_type\_\_Points\_Awarded\_Type<br  /> |  |  |  |  |  |  |
| auto\_update\_time\_pa<br  />(String) | Date and time when the Points Awarded table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pa |  |  |  |  |  |  |
| auto\_update\_time\_pabp<br  />(String) | Date and time when the Points Awarded Bill Promotion table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pabp |  |  |  |  |  |  |
| auto\_update\_time\_pacp<br  />(String) | Date and time when the Points Awarded Customer Promotion table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pacp |  |  |  |  |  |  |
| auto\_update\_time\_pal<br  />(String) | Date and time when the Points Awarded Lineitem table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pal<br  /> |  |  |  |  |  |  |
| auto\_update\_time\_palp<br  />(String) | Date and time when the Points Awarded Lineitem Promotion table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Palp |  |  |  |  |  |  |
| auto\_update\_time\_pd<br  />(String) | Date and time when the Points Deductions table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pd |  |  |  |  |  |  |
| event\_id<br  />(String) | It is the id of the event occurence and is populated from PA, PAL, PALP, PABP, PACP and PD tables on the source side.<br  /><br  />note:<br  />PA - Points Awarded<br  />PAL - Points Awarded Line Items<br  />PALP-Points Awarded Lineitem Promotion<br  />PABP -Points Awarded Bill Promotion<br  />PACP -Points Awarded customer Promotion<br  />PD - Points Deducted<br  /><br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Event\_Id |  |  |  |  |  |  |
| external\_reference\_number<br  />(String) | mapped to external\_reference\_number column of PRS table. This is unique per org. It comes via the API Payload.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />External\_Reference\_Number<br  /> |  |  |  |  |  |  |
| deducted\_ref\_id<br  />(BIGINT) | original redemption's transfer's deduction\_id againtst which the reversal has occurred<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Deducted\_Ref\_Id |  |  |  |  |  |  |
| dim\_event\_log\_id<br  />(String) | event\_log\_id column of the source PA PD tables. This is unique per event. This is the id for event\_log table<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Dimension: Dim\_Event\_Log\_Id |  |  |  |  |  |  |
| dim\_awarded\_program\_id<br  />(String) | It is the Loyalty program id. This is mapped to multiple source tables - PAs, PD, PRS etc<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| dim\_old\_category\_id<br  />(String) | It refers to the Point category Id column of PA tables. This id comes from points\_category source table, which tells whether the points category is MAIN, DELAYED ACCRUAL, TRIGGER BASED or TRACKERs<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| redemption\_id<br  />(String) | A unique 6 character long string for each redemption reversal request. It is auto generated by the Loyalty System<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Redemption\_Id |  |  |  |  |  |  |
| dim\_redemption\_program\_id<br  />(String) | It is the Loyalty program id. This is mapped to multiple source tables - PAs, PD, PRS etc Linked table on EI : NA |  | Column name <br  /> (type) | Description | Available for export? |  |  |  |
| \*\*\* |  | \*\*\* |  | \*\*\* |  |  |  |  |
| bill\_id<br  />(String) | Loyalty log id or bill id is a unique identifier for a transaction for which the points are awarded or redeemed.<br  /><br  />It is populated ( primarily for transactional point award entries)from PA, PAL, PALP, PABP tables on the source side. This id has reference to the particular bill where points are awarded or redeemed.<br  /><br  />note:<br  />PA - Points Awarded<br  />PAL - Points Awarded Line Items<br  />PALP-Points Awarded Lineitem Promotion<br  />PABP -Points Awarded Bill Promotion<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Bill\_Id |  |  |  |  |  |  |
| bill\_number<br  />(String) | The system-generated bill number for which the points are awarded or redeemed.<br  /><br  />bill\_number is populated if there is a valid bill\_id populated in source loyalty side or else empty or null is populated as bill\_number<br  /><br  />Linked table on EI : NA | Yes.<br  /><br  />Bill\_Number<br  /> |  |  |  |  |  |  |
| bill\_lineitem\_id<br  />(String) | The lineitem id against which points have been allocated .<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Bill\_Lineitem\_Id |  |  |  |  |  |  |
| awarded\_ref\_id<br  />(String) | This is the primary key of the PA (Points Awarded) table maintained at the source side.<br  /><br  />A new entry is created for every single point award event.<br  /><br  />Note: This is key column - can be used to track evolution of points balance against every PA entry, helping data operators gain insights into promotion usage and attribute sourcing of points to appropriate programs as applicable.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Awarded\_Ref\_Id |  |  |  |  |  |  |
| allocated\_points<br  />(String) | This is points awarded on a particular event. Can be on bill level, lineitem level or customer level<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Allocated\_Points<br  /> |  |  |  |  |  |  |
| deducted\_points<br  />(String) | Number of redeemed, returned, or expired points which are deducted from the total points<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Deducted\_Points |  |  |  |  |  |  |
| deduction\_currency\_value<br  />(String) | Holds the currency value of the deducted points.<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| deduction\_summary\_id<br  />(String) | Deducted points related to a single event are grouped using a deduction summary ID for analysis.<br  /><br  />This is the primary key of the PRS (Point Redemption Summary) table.<br  />This will be used as the key to connect PointFact to the PRSFact (new) in order to pick the right<br  />updated value for Redemption\_Bill\_Number. All entries corresponding to a given redemption or<br  />reversal entry will have corresponding same deduction\_summary\_id.<br  /><br  />Linked table on EI : [points\_redemption\_summary](#gid=2099558269) | Yes<br  /><br  />Deduction\_Summary\_Id |  |  |  |  |  |  |
| dim\_awarded\_date\_id<br  />(Date) | It is the date when points are awarded to the customer. Further details of the date can be obtained from the date dimension table.<br  />dim\_awarded\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : [date](#gid=780615792) |  |  |  |  |  |  |  |
| dim\_awarded\_expiry\_date\_id<br  />(Date) | It is the the date when the points expired if left unused. Further details of the date can be obtained from the date dimension table. dim\_awarded\_expiry\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  /><br  />Linked table on EI : [date](#gid=780615792) |  |  |  |  |  |  |  |
| dim\_awarded\_zone\_till\_id | Captures the till\_id of the zone where points were awarded.<br  /><br  />Further details of the till can be obtained from the zone\_till dimension table.dim\_awarded\_zone\_till\_id would be stored in the 'till\_id' column of the zone\_till dimension table.<br  /><br  />Linked table on EI : zone\_till |  |  |  |  |  |  |  |
| dim\_category\_id<br  />(String) | This id has reference to points\_category table. It tells the type of points which are awarded/deducted.<br  /><br  />Further details of the category can be obtained from the points\_category dimension table.dim\_category\_id would be be stored in the 'category\_id' column of the points\_category dimension table.<br  /><br  /><br  />Linked table on EI : points\_category |  |  |  |  |  |  |  |
| dim\_deduction\_type\_id<br  />(String) | Linked to deduction\_type table , it gives us information about the type of deduction. The dim\_deduction\_type\_id refers to the id column of the deduction\_type table<br  /><br  />Linked table on EI : deduction\_type | Yes<br  /><br  />Dimension Name:deduction\_type\_\_Deduction\_Type |  |  |  |  |  |  |
| dim\_event\_date\_id<br  />(Date) | Measures the date when the event has occured.<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_event\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date |  |  |  |  |  |  |  |
| dim\_event\_program\_id<br  />(String) | Linked to program table , it gives us information about the loyalty program for which the data is shown<br  /><br  />Corresponds to the program\_id column of the program table<br  /><br  />Linked table on EI : program |  |  |  |  |  |  |  |
| dim\_event\_time\_id<br  />(String) | Measures the time stamp when the event has occured , it captures upto minutes and seconds is not captured.<br  /><br  />Corresponds to the time\_id column of the time table<br  /><br  />Linked table on EI : time |  |  |  |  |  |  |  |
| dim\_event\_user\_id | User identifier , this is an integer set internally by capillary.<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| dim\_event\_zone\_till\_id | Captures the till\_id of a store, where the event has occured.<br  /><br  />Further details of the till can be obtained from the zone\_till dimension table.dim\_awarded\_zone\_till\_id would be stored in the 'till\_id' column of the zone\_till dimension table.<br  /><br  /><br  />Linked table on EI : zone\_till |  |  |  |  |  |  |  |
| dim\_expiry\_date\_id<br  />(Date) | Date when the allocated points is supposed to expire if unused. Further details of the date can be obtained from the date dimension table.dim\_awarded\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  /><br  />Linked table on EI : date |  |  |  |  |  |  |  |
| dim\_expiry\_time\_id<br  />(Date) | Time when the allocated points is supposed to expire if unused.<br  />Corresponds to the time\_id column of the time table<br  /><br  />Linked table on EI : time |  |  |  |  |  |  |  |
| dim\_latest\_updated\_date\_id<br  />(Date) | Date when the records were last updated.<br  /><br  />Linked table on EI : [date](#gid=780615792) |  |  |  |  |  |  |  |
| dim\_latest\_updated\_time\_id<br  />(String) | Time when the records were last updated<br  />Corresponds to the time\_id column of the time table<br  /><br  />Linked table on EI : time |  |  |  |  |  |  |  |
| dim\_points\_promotion\_id<br  />(String) | Refers to the id column of points\_promotions table , contains the promotion name against which the points were allocated/redeemed/expired (the event type)<br  /><br  />Linked table on EI : [points\_promotions table](#gid=780615792) | Yes<br  /><br  />Dimension Name:points\_promotion\_\_Points\_Promotion\_Type<br  /> |  |  |  |  |  |  |
| redemption\_bill\_id<br  />(String) | Loyalty log ID or bill ID for which the points are redeemed. The billing ID is generated by Capillary's system.<br  /><br  />Bill\_Id coming from PRS fact table<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Redemption\_Bill\_Id |  |  |  |  |  |  |
| redemption\_bill\_number<br  />(String) | Bill number for which the points are redeemed. The bill number is passed from the source data. If the source data doesn't have any value for the redemption bill number then the system shows 'Not Captured'.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Redemption\_Bill\_Number<br  /> |  |  |  |  |  |  |
| year<br  />(String) | Year of the data/event occurence<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| dim\_points\_event\_type\_id<br  />(String) | Refer to points\_event\_type table , specifies if the poitns were awarded or deducted<br  /><br  />Linked table on EI : points\_event\_type | Yes<br  /><br  />Dimension Name :points\_event\_type\_\_Points\_Event\_Type<br  /> |  |  |  |  |  |  |
| dim\_points\_awarded\_type\_id<br  />(String) | Refer to points\_awarded\_type table. It specifies the type of points awarded<br  /><br  />Linked table on EI : points\_awarded\_type | Yes<br  /><br  />Dimension Name :points\_awarded\_type\_\_Points\_Awarded\_Type<br  /> |  |  |  |  |  |  |
| auto\_update\_time\_pa<br  />\(String) | Date and time when the Points Awarded table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pa |  |  |  |  |  |  |
| auto\_update\_time\_pabp<br  />(String) | Date and time when the Points Awarded Bill Promotion table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pabp |  |  |  |  |  |  |
| auto\_update\_time\_pacp<br  />(String) | Date and time when the Points Awarded Customer Promotion table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pacp |  |  |  |  |  |  |
| auto\_update\_time\_pal<br  />(String) | Date and time when the Points Awarded Lineitem table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pal<br  /> |  |  |  |  |  |  |
| auto\_update\_time\_palp<br  />(String) | Date and time when the Points Awarded Lineitem Promotion table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Palp |  |  |  |  |  |  |
| auto\_update\_time\_pd<br  />(String) | Date and time when the Points Deductions table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Auto\_Update\_Time\_Pd |  |  |  |  |  |  |
| event\_id<br  />(String) | It is the id of the event occurence and is populated from PA, PAL, PALP, PABP, PACP and PD tables on the source side.<br  /><br  />note:<br  />PA - Points Awarded<br  />PAL - Points Awarded Line Items<br  />PALP-Points Awarded Lineitem Promotion<br  />PABP -Points Awarded Bill Promotion<br  />PACP -Points Awarded customer Promotion<br  />PD - Points Deducted<br  /><br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Event\_Id |  |  |  |  |  |  |
| external\_reference\_number<br  />(String) | mapped to external\_reference\_number column of PRS table. This is unique per org. It comes via the API Payload.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />External\_Reference\_Number<br  /> |  |  |  |  |  |  |
| deducted\_ref\_id<br  />\[Type: BIGINT\] | original redemption's transfer's deduction\_id againtst which the reversal has occurred<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Deducted\_Ref\_Id |  |  |  |  |  |  |
| dim\_event\_log\_id<br  />(String) | event\_log\_id column of the source PA PD tables. This is unique per event. This is the id for event\_log table<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Dimension Name :Dim\_Event\_Log\_Id |  |  |  |  |  |  |
| dim\_awarded\_program\_id<br  />(String) | It is the Loyalty program id. This is mapped to multiple source tables - PAs, PD, PRS etc<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| dim\_old\_category\_id<br  />(String) | It refers to the Point category Id column of PA tables. This id comes from points\_category source table, which tells whether the points category is MAIN, DELAYED ACCRUAL, TRIGGER BASED or TRACKERs<br  /><br  />Linked table on EI : NA |  |  |  |  |  |  |  |
| redemption\_id<br  />(String) | A unique 6 character long string for each redemption reversal request. It is auto generated by the Loyalty System<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Redemption\_Id |  |  |  |  |  |  |
| dim\_redemption\_program\_id<br  />(String) | It is the Loyalty program id. This is mapped to multiple source tables - PAs, PD, PRS etc Linked table on EI : NA |  |  |  |  |  |  |  |

***

# Customer Point Summary


| Column name<br  /> (type) | Description | Available for export <br  />[CPS template] |
| --- | --- | --- |
| auto\_update\_time\_ce<br  />(Integer) | Date and time when the customer enrollment table is recently updated (Unix timestamp)<br  /><br  /><br  />Linked table on EI : NA |  |
| auto\_update\_time\_cps<br  />(Integer) | Date and time when the customer point summary table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA |  |
| customer\_enrollment\_id<br  />(Integer) | Unique id for customer enrollment<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure Name : Customer\_Enrollment\_Id |
| dim\_customer\_slab\_id<br  />(Integer) | Contains the current slab name of the customer.<br  /><br  />Linked table on EI : customer\_slab | Yes<br  /><br  />Dimension Name : customer\_slab\_\_slab\_name |
| dim\_event\_date\_id<br  />(Integer) | Captures the date when the event has occured.<br  />Further details of the date can be obtained from the date dimension table.dim\_event\_date\_id would be stored in the 'date\_id' column of the date dimension table<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name : Date\_\_date |
| dim\_event\_program\_id<br  />(Integer) | Program name for which the customer tier updated<br  /><br  />Linked table on EI : program | Yes<br  /><br  />Dimension Name : Event\_Program\_\_program\_name |
| dim\_event\_user\_id<br  />(Integer) | Unique user identifier set internally by capillary<br  /><br  />Linked table on EI : users | Yes<br  /><br  />Dimension Name : User\_\_user\_id |
| dim\_event\_zone\_till\_id<br  />(Integer) | "Captures the till\_id of the zone where event occured<br  /><br  />Further details of the till can be obtained from the zone\_till dimension table.dim\_awarded\_zone\_till\_id would be stored in the 'till\_id' column of the zone\_till dimension table.<br  /><br  />Linked table on EI : zone\_till |  |
| dim\_last\_tier\_date\_change\_id<br  />(Integer) | Measures the date when the customer tier has changed<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_last\_tier\_date\_change\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date |  |
| dim\_latest\_updated\_date\_id<br  />(Integer) | Measures the date when the records were last updated.<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_latest\_updated\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date | Yes<br  /><br  />DimensionName : latest\_updated\_date\_\_date |
| dim\_latest\_updated\_time\_id<br  />(Integer) | Measures the date when the records were last updated.<br  />Corresponds to the time\_id column of the time table<br  /><br  />Linked table on EI : time | Yes<br  /><br  />Dimension Name : latest\_updated\_time\_\_time |
| dim\_tier\_expiry\_date\_id<br  />(Integer) | Date when the customer tier will expire<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_tier\_expiry\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name : Tier\_Expiry\_Date\_\_date |
| expired\_points<br  />(Integer) | Total points expired (based on slab)<br  /><br  />Linked table on EI : NA |  |
| lifetime\_points<br  />(Integer) | Total lifetimepoints issued to the customer<br  /><br  />Linked table on EI : NA |  |
| loyalty\_points<br  />(Integer) | Total points issues as part of then loyalty program (slab specific) to the customer<br  /><br  />Linked table on EI : NA |  |
| redeemed\_points<br  />(Integer) | Total points redeemed by the customer (slab-specific)<br  /><br  />Linked table on EI : NA |  |
| year<br  />\(Number)<br  /> | Year when the customer slab has been changed<br  />Linked table on EI : NA |  |

# Points redemption summary


| Column name <br  /> (type) | Description | Available for export?<br  /> PRS template |
| --- | --- | --- |
| auto_update_time<br  />(String) | Date and time when the PRS Fact is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA |  |
| dim_event_date_id<br  />(Date) | Measures the date when the event has occured. Further details of the date can be obtained from the date dimension table.<br  /><br  />dim_event_date_id would be stored in the 'date_id' column of the date dimension table.<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name : Date\_\_date |
| dim_event_user_id<br  />(Integer) | User identifier , this is an integer set internally by capillary<br  /><br  />Linked table on EI : user | Yes<br  /><br  />Dimension Name : User\_\_user_id |
| dim_event_zone_till_id<br  />(Integer) | Captures the till_id of a store where event has occured<br  /><br  />Further details of the till can be obtained from the zone_till dimension table.dim_awarded_zone_till_id would be stored in the 'till_id' column of the zone_till dimension table.<br  /><br  />Linked table on EI : zone_till | Yes<br  /><br  />Dimension: Concept_Hierarchy\_\_Till_Id |
| dim_latest_updated_date_id<br  />(Date) | Date when the records was last updated.<br  /><br  />Corresponds to the 'date_id' column of the date dimension table<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name : latest_updated_date\_\_date |
| dim_latest_updated_time_id<br  />(String) | Time when the records was last updated.<br  /><br  />Corresponds to the time_id column of the time table<br  /><br  /><br  />Linked table on EI : time<br  /> | Yes<br  /><br  />Dimension: latest_updated_time\_\_time |
| dim_redemption_program_id<br  />(String) | It is the Loyalty program id. This is mapped to PRS<br  /><br  />Linked table on EI : program |  |
| event_id<br  />(Integer) | Unique id of each event entry of the corresponding table.Primary Key, correlates to Deduction_Summary_Id in the<br  />PointFact<br  /><br  />Linked table on EI : Points fact | Yes<br  /><br  />Measure: Event_Id |
| notes<br  /> | Notes passed during the redemption<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure: Notes |
| point_category_id<br  />(Integer) | It refers to the Point category Id column of PRS table. This id comes from points_category source table, which tells whether the points category is MAIN, DELAYED ACCRUAL, TRIGGER BASED or TRACKERs<br  />This id has reference to points_category table.<br  /><br  />In case of Group Redemption, this will be -1<br  /><br  />Linked table on EI : NA |  |
| points_redeemed<br  />(Integer) | The total points redeemed in that particular redemption.<br  /><br  />Populated from points_redemption_summary on source side<br  /><br  />Linked table on EI : NA |  |
| points_redemption_time | The time at which the points redeemed from warehouse<br  /><br  />Populated from points_redemption_summary on source side |  |
| redemption_bill_id<br  />(String) | Loyalty log ID or bill ID for which the points are redeemed. The billing ID is generated by Capillary's system.<br  /><br  />Linked table on EI : Points Fact | Yes<br  /><br  />Measure Name : Redemption_Id |
| redemption_bill_number<br  />(String) | Bill number for which the points are redeemed.<br  /><br  />The bill number is passed from the source data.<br  /><br  />If the source data doesn't have any value for the redemption bill number then the system shows 'Not Captured'.<br  /><br  />Linked table on EI : Points Fact | Yes<br  /><br  />Measure Name : Redemption_Bill_Number |
| source_type<br  />(String) | The source from where the redemption data is incoming.<br  /><br  />The data can come from two sources, API and data import(redemption data import).<br  /><br  /><br  />Linked table on EI : NA |  |
| year<br  />(String) | year of the data<br  /><br  /><br  />Linked table on EI : NA |  |

# Points expiry reminder info


| Column name   <br  /> (type) | Description | Available for export in Points Expiry Reminder<br  />template |
| --- | --- | --- |
| auto\_update\_time\_point\_exp\_reminder<br  />(string) | Date and time when the points\_reminder\_expiry\_info Fact is recently updated (Unix timestamp)<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure Name: Auto Update Time Point Exp Reminder |
| dim\_communication\_channel\_id<br  />(Integer) | This refers to the communication\_channel table and the id is unique id for different communication channels.<br  /><br  />Linked table on EI : communication\_channel | Yes<br  /><br  />Dimension Name :communication\_channel |
| dim\_event\_date\_id<br  />(date) | measured the date when the event has occured<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_event\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension:Date |
| dim\_event\_time\_id<br  />(String) | measure the time stamp when the event has occured , it captures upto minutes and seconds is not captured.<br  /><br  />Linked table on EI : time | Yes<br  /><br  />Dimension:Time |
| dim\_event\_user\_id | Its a part of PRS fact. It relates to the customer\_id who has done the redempion reversal.<br  /><br  /><br  />Linked table on EI : User | Yes<br  /><br  />Dimension:User |
| dim\_expiry\_date\_id<br  />(Date) | Date when the allocated points is supposed to expire if unused.<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_expiry\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name :expiry\_date |
| dim\_expiry\_time\_id<br  />(Date) | Time when the allocated points is supposed to expire if unused.<br  /><br  />Corresponds to the time\_id column of the time table.<br  /><br  />Linked table on EI : time | Yes<br  /><br  />Dimension: expiry\_time |
| dim\_latest\_updated\_date\_id<br  />(Date) | Date when the records were last updated.<br  /><br  />Further details of the date can be obtained from the date dimension table.dim\_latest\_updated\_date\_id would be stored in the 'date\_id' column of the date dimension table.<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name :latest\_updated\_date |
| dim\_latest\_updated\_time\_id<br  />(String) | Time when the records were last updated<br  /><br  />Corresponds to the time\_id column of the time table.<br  /><br  />Linked table on EI : time | Yes<br  /><br  />Dimension Name :latest\_updated\_time |
| points\_expiring<br  />(Integer) | The number of points that are going to expire for which reminder will be sent.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure Name :Points Expiring |
| reminded\_before\_days<br  />(Integer) | The number of days before which reminder needs to be sent for the points expiring.<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure Name :Reminded Before Days<br  /> |
| reminder\_id<br  />(String) | primary key of expiry\_reminder\_sent\_stats\_customer\_level table (coming from )<br  /><br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure:Reminder Id<br  /> |
| year<br  />(String) | year of the data<br  /><br  />Linked table on EI : NA |  |

# Concept till


| Column name <br  />type | Description | Available for export in Member slab change log template |
| --- | --- | --- |
| till_id  
  
(Integer) | till_id of a store | Concept_Hierarchy\_\_Till_Id |
| concept  
  
(String) | Concept of the Org | Concept_Hierarchy\_\_concept |
| till  
  
(String) | Till of the store | Concept_Hierarchy\_\_till |
| store_name  
  
(String) | Store name given by Capillary System | Concept_Hierarchy\_\_store_name |
| store_description  
  
(String) | Description of the store | Concept_Hierarchy\_\_store_description |
| store  
  
(String) | Unique id for store | Concept_Hierarchy\_\_store |
| concept_name  
  
(String) | Name of the concept | Concept_Hierarchy\_\_concept_name |
| auto_update_org_entities  
  
(Date) | Date and time (in Unix timestamp) when the concept is updated |  |
| is_active  
  
(Boolean) | Active status of till id(True,False) |  |
| type  
  
(String) | Type of store(General,Admin) |  |
| till_name  
  
(String) | Name of the till | Concept_Hierarchy\_\_till_name |

# Slab change log


| Column name <br  /> type | Description | Available for export in Member slab change log template |
| --- | --- | --- |
| user_id  
  
(Integer) | Unique user identifier for customer.  Assigned  by capillary | Yes  
  
Measure name :User_Id |
| event_date_time  
(datetime) | It is the slab change date and time. | Yes  
  
Measure name :Event_Date_Time |
| slab_name  
(String) | The final slab name after a marticular migration.It is the slab to which the customer migrated to. | Yes  
  
Measure name :customer_slab\_\_slab_name |
| Auto_Update_Time_Slab_Upgrade  
( time) | Date and time when the slab_change_log Fact is recently updated (Unix timestamp) | Yes  
  
Measure name :Auto_Update_Time_Slab_Upgrade |
| notes  
(String) | Additional text added  related to slab change details | Yes  
  
Measure name :Notes |
| id  
(Integer) | It is the change log id forslab_change_log Fact (not business relevant ) | Yes  
  
Measure name :Id |
| dim_event_date_id  
(datetime) | It captures the slab change date  
  
Linked table:Date | Yes  
  
Dimension name :Time\_\_time |
| dim_event_time_id  
( datetime) | It captures the slab change time  
  
Linked table: Time | Yes  
  
Dimension name :Time\_\_time |
| dim_event_user_id  
(String) | user identifier for customer assined by capillary | Yes  
  
Dimension name :User\_\_user_id |
| dim_customer_slab_id  
(Number) | Captures the current slab Id for the customer  
  
Linked table: Customer_slab |  |
| dim_latest_updated_date_id  
(Number) | The latest updated date when the data has been updated  
  
Linked table: Date | Yes  
  
Dimension name: latest_updated_date\_\_date |
| dim_event_program_id  
(Number) | Program name for which the customer slab change happened  
  
Linked table: Program | Yes  
  
Dimension name: Event_Program\_\_Program_Id |
| dim_upgrade_event_type_id  
(Number) | Stands for process name for which the customer slab upgradation has been done(exm:- For new bill,point redemption,customer registration)  
  
Linked table: [upgrade_event_type](https://docs.capillarytech.com/docs/dimension-table-documentation#upgrade-event-type) | Yes  
  
Dimension name: Slab_Upgrade_Event_Type\_\_Upgrade_Event_Category |
| year  
(Number) | Year when the customer slab change event occur |  |
| dim_latest_updated_time_id  
(Number) | The latest updated time when the data has been updated  
  
Linked table: Date | Yes  
  
Dimension name: latest_updated_time\_\_time |
| event_source_id  
(Number) |  |  |
| dim_slab_change_source_id  
(Number) | Source id for which the customer slab change has been done  
  
Linked table: source_type |  |
| dim_event_zone_till_id  
(Number) | till_id of a store where the customer slab change has been done  
  
Linked table: Event_zone |  |
| dim_previous_slab_id  
(Number) | Slab id for the customer before the slab change  
  
Linked table: customer_slab | Yes  
  
Dimension name: Previous_Customer_Slab\_\_serial_no |
| dim_slab_change_action_id |  | Yes  
  
Dimension name: customer_slab\_\_serial_no |
| dim_scd_type_id |  |  |

# Customer summary


**Customer summary facts table** **(members)**

| Column Name                         | Column Type | Description                                                                                                                                                                                           | Linked Table                                                                        | Available For Export in Member Fact Template          |
| ----------------------------------- | :---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------- | ----------------------------------------------------- |
| dim_latest_updated_date_id          | bigint      | Date of the most recent update to any information in the customer summary table.                                                                                                                      | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Date                             |
| dim_latest_updated_time_id          | bigint      | Time of the most recent update to any information in the customer summary table.                                                                                                                      | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                   | Yes; Dimension Name: Date                             |
| dim_event_date_id                   | bigint      | Date when the customer was registered.                                                                                                                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Date                             |
| dim_event_time_id                   | bigint      | Time when the customer was registered (up to minutes).                                                                                                                                                | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                   | Yes; Dimension Name: Time                             |
| dim_event_user_id                   | bigint      | Unique identifier for the customer_summary table, set internally by Capillary. It is the primary key of this facts table.                                                                             | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)           | Yes; Dimension Name: User Id                          |
| dim_joined_date_id                  | bigint      | Records the loyalty registration date for the customer.                                                                                                                                               | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Joined Date                      |
| auto_update_time_cps                | bigint      | Date and time when the corresponding record in the customer_point_summary table available at the source was last updated. It is in the Unix timestamp format.                                         |                                                                                     | Yes; Measure Name: Auto Update Time Cps               |
| dim_conversion_date_id              | bigint      | Date when the customer is converted from a non loyalty customer to a loyalty customer.                                                                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Conversion Date                  |
| auto_update_time_extnd              | bigint      | Date and time when the corresponding record in the extended field table available at the source was last updated. It is in the Unix timestamp format.                                                 |                                                                                     | Yes; Measure Name: Auto Update Time Extnd             |
| auto_update_time_loyalty            | bigint      | Date and time when the corresponding record in the loyalty table available at the source was last updated. It is in the Unix timestamp format.                                                        |                                                                                     | Yes; Measure Name: Auto Update Time Loyalty           |
| average_spent_per_sku               | double      | Average amount spent by the customer on each product type (per SKU). Stock Keeping Unit (SKU) is a unique identifier assigned to each distinct product or item in inventory.                          |                                                                                     | Yes; Measure Name: Average Spent Per Sku              |
| average_spent_per_visit             | double      | Average amount of money a customer spends during each visit they make to the store (total amount spent divided by number of visits).                                                                  |                                                                                     | Yes; Measure Name: Average Spent Per Visit            |
| cancelled_points                    | double      | Cancelled points are the number of reverted points. That is, issued points that were reverted due to reasons like transaction return.                                                                 |                                                                                     | Yes; Measure Name: Cancelled Points                   |
| year                                | integer     | Year in which the customer was registered.                                                                                                                                                            |                                                                                     | Yes; Dimension Name: Year                             |
| dim_conversion_time_id              | bigint      | Time when the customer is converted from a non loyalty customer to a loyalty customer.                                                                                                                | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                   | Yes; Dimension Name: Conversion Time                  |
| dim_dob_id                          | bigint      | Denotes date of birth of the customer.                                                                                                                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: DOB                              |
| dim_event_zone_till_id              | bigint      | Identifier assigned to the point-of-sale (POS) terminal within a store. It distinguishes one checkout location from another within the same store.                                                    | [zone_till](https://docs.capillarytech.com/docs/dimension-tables#zone-till)         | Yes; Dimension Name: Store Hierarchy                  |
| dim_first_awarded_date_id           | bigint      | Date when a point was awarded to the customer for the first time.                                                                                                                                     | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: First Awarded Date               |
| dim_first_bill_date_id              | bigint      | Date when the customer did his first transaction or purchase.                                                                                                                                         | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: First Txn Date                   |
| dim_first_points_redemption_date_id | bigint      | Date when the customer redeemed his points for the first time.                                                                                                                                        | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: First Points Redemption Date     |
| dim_first_purchased_till_id         | bigint      | Till Id of the store where the customer did his first transaction.                                                                                                                                    | [zone_till](https://docs.capillarytech.com/docs/dimension-tables#zone-till)         | Yes; Dimension Name: First Purchased Till             |
| dim_first_redeemption_date_id       | bigint      | Records the date of the first redemption of coupons.                                                                                                                                                  | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: First Redemption Date            |
| dim_lapsation_date_id               | bigint      | Lapsation date of customers, calculated as last bill date plus 90 days.                                                                                                                               | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Lapsation Date                   |
| dim_last_bill_date_id               | bigint      | Records the date of the most recent transaction.                                                                                                                                                      | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Last Txn Date                    |
| dim_last_points_redemption_date_id  | bigint      | Records the date of the most recent redemption of loyalty points.                                                                                                                                     | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Last Points Redemption Date      |
| dim_last_purchased_till_id          | bigint      | Identifier of the point-of-sale (till) where the customer made their most recent purchase.                                                                                                            | [zone_till](https://docs.capillarytech.com/docs/dimension-tables#zone-till)         | Yes; Dimension Name: Last Purchased Store             |
| dim_last_redeemption_date_id        | bigint      | Records the date of the most recent redemption of coupons.                                                                                                                                            | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Last Redemption Date             |
| dim_loyalty_type_id                 | bigint      | Customer's loyalty status, which can be categorized as: loyalty, non-loyalty, or not registered.                                                                                                      | [loyalty_type](https://docs.capillarytech.com/docs/dimension-tables#loyalty-type)   | Yes; Dimension Name: Loyalty Type                     |
| dim_points_redemption_status_id     | bigint      | Records the status of points redemption. Possible values are - Issued, and Redeemed.                                                                                                                  |                                                                                     | Yes; Dimension Name: Points Redemption Status         |
| dim_preferred_order_channel_id      | bigint      | Stores the preferred channel through which the customer places orders. Possible values are online, in-store, through a mobile app, etc.                                                               | [order_channel](https://docs.capillarytech.com/docs/dimension-tables#order-channel) | Yes; Dimension Name: Preferred Order Channel          |
| dim_preferred_store_id              | string      | Preferred store where the customer performs most of the transactions.                                                                                                                                 | [zone_till](https://docs.capillarytech.com/docs/dimension-tables#zone-till)         | Yes; Dimension Name: Preferred Store                  |
| dim_repeat_status_id                | bigint      | Shows if the customer has made previous purchases or if it's their first transaction.                                                                                                                 | [repeat_status](https://docs.capillarytech.com/docs/dimension-tables#repeat-status) | Yes; Dimension Name: Repeat Status                    |
| dim_source_type_id                  | bigint      | Source through which the customer got registered. Possible values are in-store, app, WeChat, e-comm, Facebook, campaigns, etc.                                                                        | [source_type](https://docs.capillarytech.com/docs/dimension-tables#source-type)     | Yes; Dimension Name: Source Type                      |
| dim_voucher_redemption_status_id    | bigint      | Indicates the status of voucher redemption for a customer.                                                                                                                                            |                                                                                     | Yes; Dimension Name: Voucher Redemption Status        |
| dim_wedding_date_id                 | bigint      | Stores the customer's wedding date.                                                                                                                                                                   | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                   | Yes; Dimension Name: Wedding Date                     |
| expired_points                      | double      | Total points that have expired for the customer since registration.                                                                                                                                   |                                                                                     | Yes; Measure Name: Expired Points                     |
| first_visit_basket_size             | double      | Number of items purchased during the customer's first transaction.                                                                                                                                    |                                                                                     | Yes; Measure Name: First Visit Basket Size            |
| first_visit_bill_amount             | double      | Total amount spent by the customer during their first transaction.                                                                                                                                    |                                                                                     | Yes; Measure Name: First Visit Bill Amount            |
| has_spike_bill                      | integer     | Records whether the customer has ever made a purchase that is 10 times greater than their average spending. It is mainly used for detecting fraud.                                                    |                                                                                     | Yes; Measure Name: Has Spike Bill                     |
| last_updated_by_till_id             | bigint      | Records the till id (point of sale) where the customer details were last updated.                                                                                                                     |                                                                                     | Yes; Measure Name: Last Updated By Till Id            |
| last_visit_bill_amount              | double      | Total amount spent by the customer during their most recent transaction.                                                                                                                              |                                                                                     | Yes; Measure Name: Last Visit Bill Amount             |
| latency                             | double      | Average number of days between two successive visits made by the customer.                                                                                                                            |                                                                                     | Yes; Measure Name: Latency                            |
| line_item_count                     | bigint      | Total number of items purchased by the customer, since registration.                                                                                                                                  |                                                                                     | Yes; Measure Name: Line Item Count                    |
| loyalty_id                          | bigint      | Unique identifier for the loyalty source table.                                                                                                                                                       |                                                                                     | Yes; Measure Name: Loyalty Id                         |
| loyalty_points                      | double      | Total number of points that the customer can redeem as of today.                                                                                                                                      |                                                                                     | Yes; Measure Name: Loyalty Points                     |
| max_bill_amount                     | double      | Highest amount spent by the customer in a single transaction, since registration.                                                                                                                     |                                                                                     | Yes; Measure Name: Max Bill Amount                    |
| max_bill_count_in_day               | bigint      | Maximum number of transactions made by the customer in a single day, since registration.                                                                                                              |                                                                                     | Yes; Measure Name: Max Bill Count In Day              |
| max_bill_count_in_week              | bigint      | Maximum number of transactions made by the customer in a week, since registration.                                                                                                                    |                                                                                     | Yes; Measure Name: Max Bill Count In Week             |
| max_bill_hour_count_in_day          | double      | Maximum number of transactions made by the customer in an hour in a single day, since registration.                                                                                                   |                                                                                     | Yes; Measure Name: Max Bill Hour Count In Day         |
| max_zones_with_billing_on_same_day  | bigint      | Maximum number of zones where the customer made a transaction in a single day, since registration.                                                                                                    |                                                                                     | Yes; Measure Name: Max Zones With Billing On Same Day |
| number_of_visit_days                | bigint      | Total number of different days on which the customer has visited the store, since registration.                                                                                                       |                                                                                     | Yes; Measure Name: Number Of Visit Days               |
| number_of_visits                    | bigint      | Total number of transactions made by the customer since registration.                                                                                                                                 |                                                                                     | Yes; Measure Name: Number Of Visits                   |
| points_awarded_days                 | bigint      | Total number of days on which the customer received points, since registration.                                                                                                                       |                                                                                     | Yes; Measure Name: Points awarded days                |
| redeemed_points                     | double      | Total points redeemed by the customer since registration.                                                                                                                                             |                                                                                     | Yes; Measure Name: Redeemed Points                    |
| redeemed_rate                       | double      | Ratio of redeemed transactions to the total transactions, since registration.                                                                                                                         |                                                                                     | Yes; Measure Name: Redeemed Rate                      |
| redeemed_visit_days                 | bigint      | Total number of days on which the customer redeemed points during visits, since registration.                                                                                                         |                                                                                     | Yes; Measure Name: Redeemed Visit Days                |
| redeemed_visits                     | bigint      | Total number of visits during which the customer redeemed points, since registration.                                                                                                                 |                                                                                     | Yes; Measure Name: Redeemed Visits                    |
| redeemed_voucher_count              | bigint      | Total number of vouchers redeemed by the customer, since registration.                                                                                                                                |                                                                                     | Yes; Measure Name: Redeemed Voucher Count             |
| redemption_latency                  | double      | Average number of days between two successive point redemptions by the customer.                                                                                                                      |                                                                                     | Yes; Measure Name: Redemption Latency                 |
| returned_bill_amount                | double      | The total amount corresponding to the items returned by the customer, since registration.                                                                                                             |                                                                                     | Yes; Measure Name: Returned Bill Amount               |
| returned_bill_count                 | bigint      | Total number of bills for which the items have been returned by the customer, since registration.                                                                                                     |                                                                                     | Yes; Measure Name: Returned Bill Count                |
| sku_purchased                       | bigint      | Total number of different product types (SKUs) purchased by the customer, since registration. Stock Keeping Unit (SKU) is a unique identifier assigned to each distinct product or item in inventory. |                                                                                     | Yes; Measure Name: Sku Purchased                      |
| skus_returned                       | bigint      | Total number of different product types (SKUs) returned by the customer, since registration.                                                                                                          |                                                                                     | Yes; Measure Name: Skus Returned                      |
| total_bill_amount                   | double      | Total amount spent by the customer across all the bills, since registration.                                                                                                                          |                                                                                     | Yes; Measure Name: Total Bill Amount                  |
| total_bill_count                    | bigint      | Total number of transactions made by the customer since registration.                                                                                                                                 |                                                                                     | Yes; Measure Name: Total Bill Count                   |
| total_line_item_amount              | double      | Total amount spent on all line items purchased by the customer across all the bills, since registration.                                                                                              |                                                                                     | Yes; Measure Name: Total Line Item Amount             |
| total_points_redeemed               | double      | Total points that have been redeemed by the customer, since registration.                                                                                                                             |                                                                                     | Yes; Measure Name: Total Points Redeemed              |
| total_returned_line_item_amount     | double      | Total amount refunded for all individual line items returned by the customer, since registration.                                                                                                     |                                                                                     | Yes; Measure Name: Total Returned Line Item Amount    |
| lifetime_points                     | double      | Total points accumulated by the customer since registration.                                                                                                                                          |                                                                                     | Yes; Measure Name: Lifetime Points                    |
| lifetime_purchased                  | double      | Total amount spent by the customer since registration.                                                                                                                                                |                                                                                     | Yes; Measure Name: Lifetime Purchased                 |

# Coupons


| Column Name and Type | Description | Available for export in Coupons template |
| --- | --- | --- |
| auto\_update\_time<br  /><br  />(Type:Unixtimes) | Date and time when the coupons table is recently updated (Unix timestamp)<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:Auto Update Time |
| bill\_id<br  /><br  />(Type: Integer) | Identifier key for the bill against which the coupons have been issued or redeemed<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:bill id |
| coupon\_code<br  /><br  />(Type: String) | A unique id generated for the coupons<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:Coupon Code |
| coupon\_code\_src<br  /><br  />(Type: String) | It is same as coupon code<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:Coupon Code Src |
| dim\_campaign\_group\_id<br  /><br  />(Type: Integer) | Captures the campaigns\_group for which the coupons related event has been done<br  /><br  />Linked table on EI: Campaign\_group | NA |
| dim\_campaign\_id<br  /><br  />(Type: Integer) | Captures the the campaigns for which the coupons related event has been done<br  /><br  />Linked table on EI: Campaigns | NA |
| dim\_coupon\_issual\_type\_id<br  /><br  />(Type: Integer) | Captures the type of the coupon issued<br  /><br  /><br  />Linked table on EI: coupon\_issual\_type | Yes<br  /><br  />Dimension Name:coupon issual type |
| dim\_coupon\_series\_id<br  /><br  />(Type: Integer) | Captures the Coupon Series against the coupon event<br  /><br  />Linked table on EI: Coupon\_series | Yes<br  /><br  />Dimension Name:coupon series |
| dim\_entry\_type\_id<br  /><br  />(Type: Integer) | Captures the entry type for the coupons event<br  /><br  />Linked table on EI:Entry Type | Yes<br  /><br  />Dimension Name:entry type |
| dim\_event\_date\_id<br  /><br  />(Type: Integer) | Captures the date when the event(issual redemption) has occured<br  /><br  />Linked table on EI:Date | Yes<br  /><br  />Dimension Name:date |
| dim\_event\_time\_id<br  /><br  />(Type: Integer) | Captures the time stamp when the event has occured , it captures upto minutes however seconds is not captured<br  /><br  />Linked table on EI:Time | Yes<br  /><br  />Dimension Name:time |
| dim\_event\_user\_id<br  /><br  />(Type: Integer) | Unique user identifier , this is an integer set internally by capillary<br  /><br  />Linked table on EI:users | Yes<br  /><br  />Dimension Name: users |
| dim\_event\_zone\_till\_id<br  /><br  />(Type: Integer) | Captures the till\_id of a store where the coupons related event occured<br  /><br  />Linked table on EI:zone\_tills | NA |
| dim\_expiry\_date\_id<br  /><br  />(Type: Date) | Captures the date when the coupon will expire<br  /><br  />Linked table on EI:date | Yes<br  /><br  />Dimension Name:expiry\_date |
| dim\_issual\_campaign\_group\_id<br  /><br  />(Type: Integer) | Captures the campaign group id for which coupon has been issued<br  /><br  />Linked table on EI:Campaign\_group | NA |
| dim\_issual\_date\_id<br  /><br  />(Type: Date) | Captures the date when coupon has been issued<br  /><br  />Linked table on EI:date | Yes<br  /><br  />Dimension Name:issual\_date |
| dim\_issual\_time\_id<br  /><br  />(Type: Integer) | Captures the time when coupon has been issued<br  /><br  />Linked table on EI:time | Yes<br  /><br  />Dimension Name: issual\_time |
| dim\_issual\_type\_id<br  /><br  />(Type: Integer) | Captures the type of coupon issued<br  /><br  />Linked table on EI:coupon\_issual\_type | Yes<br  /><br  />Dimension Name: issual\_type |
| dim\_issual\_zone\_till\_id<br  /><br  />(Type: Integer) | Captures the zone till where coupon has been issued<br  /><br  />Linked table on EI:zone\_tills | NA |
| dim\_issued\_to\_user\_id<br  /><br  />(Type: Integer) | Captures the customer details to whom the coupon has been issued<br  /><br  />Linked table on EI:users | NA |
| dim\_latest\_updated\_date\_id<br  /><br  />(Type: Integer) | The date when the data has been recently updated<br  /><br  />Linked table on EI:date | Yes<br  /><br  />Dimension Name: Latest Updated date |
| dim\_latest\_updated\_time\_id<br  /><br  />(Type: Integer) | The time when the data has been recently updated<br  /><br  />Linked table on EI:time | Yes<br  /><br  />Dimension Name: Latest Updated time |
| event\_id<br  /><br  />(Type: Integer) | A unique id generated for the coupon's event by capillary system<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:Event Id |
| issual\_coupon\_id<br  /><br  />(Type: String) | Unique Id assigned to the coupon which has been issued<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:Issual Coupon Id |
| redemption\_bill\_amount<br  /><br  />(Type: Integer) | Total transaction amount of the bill against which coupon has been redeemed<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:Redemption Bill Amount |
| used\_bill\_number<br  /><br  />(Type: String) | Bill\_number used while the redeeming the coupon<br  /><br  />Linked table on EI:NA | Yes<br  /><br  />Measure Name:Used Bill Number |
| year<br  /><br  />(Type: Integer) | Year when the coupon's event occured | No |
| dim\_coupon\_event\_type\_id<br  /><br  />(Type: Integer) | Captures the coupons event type(issual,redemption)<br  /><br  />Linked table on EI: redeemed\_status | Yes<br  /><br  />Dimension Name: coupon\_event\_type<br  /><br  /> |

# Payment Mode Details


| Column name and type | Description | Available for export in Payment Mode template |
| --- | --- | --- |
| bill\_amount<br  />(Type: Integer) | The total amount of the transaction for which the payment has been done<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Bill Amount<br  /><br  /> |
| bill\_discount<br  />(Type: Integer) | Total discount given on transaction for which payment has been done<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Bill discount<br  /><br  /> |
| bill\_id<br  />(Type: Integer) | The unique id generated for a particular bill internally in the capillary system for which payment has been done.<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Bill Id<br  /><br  /> |
| bill\_number<br  />(Type: String) | A unique number for a transaction that is either auto-generated at the POS machine or provided manually.<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Bill Number<br  /><br  /> |
| central\_gst<br  />(Type: Integer) | Total GST amount on the transaction for which payment has beed done.<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Central GST<br  /><br  /> |
| dim\_added\_on\_date\_id<br  />(Type: Integer) | Captures the date when the payment details had been added for the transaction<br  /><br  />Linked table on EI : Date | yes<br  /><br  />Dimension Name: added\_on\_date |
| dim\_bill\_outlier\_status\_id<br  />(Type: Integer) | Captures the Outlier status of the bills against bill\_id<br  /><br  />Linked table on EI : outlier\_status | yes<br  /><br  />Dimension Name:bill outlier |
| dim\_bill\_type\_id<br  />(Type: Integer) | Captures the type of bill for which the payment has been made<br  /><br  />Linked table on EI : bill\_type | yes<br  /><br  />Dimension Name:dim\_bill\_type\_id<br  /><br  /> |
| dim\_cashier\_id<br  />(Type: Integer) | Captures the cashier's details for the payment<br  /><br  />Linked table on EI : cashier | yes<br  /><br  />Dimension Name:cashier id |
| dim\_event\_date\_id<br  />(Type: Integer) | Captures the date when the payment has been done<br  /><br  />Linked table on EI : Date | No |
| dim\_event\_time\_id<br  />(Type: Integer) | Captures the time when the payment has been done<br  /><br  />Linked table on EI : Time | No |
| dim\_event\_user\_id<br  />(Type: Integer) | Captures the user details for which the payment has been done<br  /><br  />Linked table on EI : Users | No |
| dim\_event\_zone\_till\_id<br  />(Type: Integer) | Captures the store details where the payment has been done<br  /><br  />Linked table on EI : zone\_tills | No |
| dim\_latest\_updated\_date\_id<br  />(Type: Integer) | Captures the date when the data has been recently updated in the fact.<br  /><br  />Linked table on EI : Date | No |
| dim\_latest\_updated\_time\_id<br  />(Type: Integer) | Captures the time when the data has been recently updated in the fact.<br  /><br  />Linked table on EI : Time | No |
| dim\_loyalty\_type\_id<br  />(Type: Integer) | Loyalty type of the customer<br  />1 loyalty<br  />2 non\_loyalty<br  />3 not\_registered<br  /><br  />Linked table on EI : loyalty\_type | No |
| dim\_nps\_id<br  />(Type: Integer) | Captures the nps score given by the customer for the payment made<br  /><br  />Linked table on EI : NPS\_score | yes<br  /><br  />Dimension Name: nps |
| dim\_order\_channel\_id<br  />(Type: Integer) | The channel via which the transaction has been completed<br  /><br  />Linked table on EI : order\_channel | yes<br  /><br  />Dimension Name: order channel |
| dim\_payment\_mode\_id<br  />(Type: Integer) | measured the Store details where the payment has been done | yes<br  /><br  />Dimension Name: payment mode attribute |
| dim\_repeat\_status\_id<br  />(Type: Integer) | Captures the repeat status of the customer<br  />1 FIRST\_TIME<br  />\-10002 INVALID<br  />\-10003 NOT-APPLICABLE<br  />\-10001 NOT-CAPTURED<br  />2 REPEAT<br  /><br  />Linked table on EI : repeat\_status | yes<br  /><br  />Dimension Name: repeat |
| dim\_source\_type\_id<br  />(Type: Integer) | Source of the bill<br  /><br  />Linked table on EI : source\_type | yes<br  /><br  />Dimension Name: source |
| integrated\_gst<br  />(Type: String) | Captures the GST levied by the central government for inter-state supplies and imports<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Integrated GST |
| payment\_mode\_amount<br  />(Type: Integer) | Total amount of the payment made<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Payment mode amount |
| payment\_mode\_details\_id<br  />(Type: Integer) | A unique id generated for the payment mode details by capillary system<br  /><br  />Linked table on EI : NA | yes<br  /><br  />dimension name: Payment mode attribute |
| quantity<br  />(Type: Integer) | Total number of quantity in transaction for which payment has been done<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: Quantity |
| state\_gst<br  />(Type: Integer) | Total State gst that has been applied on the payment<br  /><br  />Linked table on EI : NA | yes<br  /><br  />Measure Name: State GST |
| tax\_amount<br  />(Type: Integer) | Total tax amount that has been applied on the payment | yes<br  /><br  />Measure name: Tax Amount |
| year<br  />(Type: Integer) | Year when the payment has been done | No |

# Customer Merge Log


| Column name and type | Description | Available for export in CPS template |
| --- | --- | --- |
| auto\_update\_time<br  /><br  />(Type:String) | Date and time (in Unix timestamp) when the communication details has been updated<br  /><br  />Linked table on EI: NA | No |
| details<br  /><br  />(Type:String) | Details for profile merge<br  /><br  />Linked table on EI: NA | No |
| dim\_event\_date\_id<br  /><br  />(Type: Integer) | Captures the date when the customer profile merged<br  /><br  />Linked table on EI: Date | Yes<br  /><br  />Dimension Name: Date |
| dim\_event\_time\_id<br  /><br  />(Type: Integer) | Captures the time when the customer profile merged<br  /><br  />Linked table on EI: Time | Yes<br  /><br  />Dimension Name: Time |
| dim\_event\_user\_id<br  /><br  />(Type: Integer) | Captures the current user\_id<br  /><br  />Linked table on EI: Users | Yes<br  /><br  />Dimension Name: Users |
| dim\_latest\_updated\_date\_id<br  /><br  />(Type: Integer) | The latest updated date when the data is recently updated in the Fact<br  /><br  />Linked table on EI: Date | Yes<br  /><br  />Dimension Name: Latest updated Date |
| dim\_latest\_updated\_time\_id<br  /><br  />(Type: Integer) | The latest updated time when data is recently updated in the Fact<br  /><br  />Linked table on EI: Time | Yes<br  /><br  />Dimension Name: Latest updated Time |
| dim\_merged\_by\_admin\_id<br  /><br  />(Type: Integer) | Captures the admin user details which has merged the customer\_profile<br  /><br  />Linked table on EI: admin\_users | Yes<br  /><br  />Dimension Name: merger by admin user |
| dim\_merged\_by\_zone\_till\_id<br  /><br  />(Type: Integer) | Captures the store details where the customer profile merged<br  /><br  />Linked table on EI: zone\_tills | Yes<br  /><br  />Dimension Name:merge by till |
| dim\_victim\_user\_id<br  /><br  />(Type: Integer) | Captures the users details with which the customer profile merged<br  /><br  /><br  />Linked table on EI: users | Yes<br  /><br  />Dimension Name:victim |
| merge\_event\_id<br  /><br  />(Type: Integer) | Id for customer profile merge event<br  /><br  />Linked table on EI: NA | Yes<br  /><br  />Measure Name: merger event id |
| merge\_reason<br  /><br  />(Type: Integer) | Reason for the customer profile merge<br  /><br  />Linked table on EI: NA | Yes<br  /><br  />Measure Name:merge reason |
| victim\_external\_id<br  /><br  />(Type: Integer) | External id of customer for which the customer profile has been merged<br  /><br  />Linked table on EI: NA | Yes<br  /><br  />Measure Name:Victim external id |
| victim\_mobile<br  /><br  />(Type: Integer) | Mobile number of the customer for which the customer profile has been merged<br  /><br  />Linked table on EI: NA | Yes<br  /><br  />Measure Name:Victim mobile |
| year<br  /><br  />(Type: Integer) | Year when the event has been done<br  /><br  />Linked table on EI: NA | No |

# Call Task Customer Status


| Column name and type | Description | Available for export in Call task template |
| --- | --- | --- |
| auto\_update\_time\_task\_status<br  /><br  />(Type: String) | Date and time (in Unix timestamp) when the task details has been updated<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure Name:Auto Update Time Task Status |
| call\_task\_id<br  /><br  />(Type: Integer) | Id for the call task<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure Name:Call Task Id |
| dim\_campaign\_id<br  /><br  />(Type: Integer) | Unique id generated by the system for the campaigns<br  /><br  />Linked table on EI : Campaigns | Yes<br  /><br  />Dimension Name:campaign |
| dim\_campaign\_message\_id<br  /><br  />(Type: Integer) | Unique id generated by the system for the campaign\_message<br  /><br  />Linked table on EI : campaign\_msg | Yes<br  /><br  />Dimension Name:campaign\_message |
| dim\_event\_date\_id<br  /><br  />(Type: Integer) | Captures the date for the call task<br  /><br  />Linked table on EI : Date | Yes<br  /><br  />Dimension Name:Date |
| dim\_event\_time\_id<br  /><br  />(Type: Integer) | Captures the time for the call task<br  /><br  />Linked table on EI : Time | Yes<br  /><br  />Dimension Name:Time |
| dim\_event\_user\_id<br  /><br  />(Type: Integer) | Captures user details for the call task<br  /><br  />Linked table on EI : Users | Yes<br  /><br  />Dimension Name:User |
| dim\_event\_zone\_till\_id<br  /><br  />(Type: Integer) | Captures the store details for for the call task<br  /><br  />Linked table on EI : Zone\_tills | Yes<br  /><br  />Dimension Name:Store Hierarchy |
| dim\_internal\_status\_id<br  /><br  />(Type: Integer) | Captures the internal status for the call task<br  /><br  />Linked table on EI : Internal status | Yes<br  /><br  />Dimension Name:internal\_status |
| dim\_latest\_updated\_date\_id<br  /><br  />(Type: Integer) | The latest date when the data has been updated<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name:Date |
| dim\_latest\_updated\_time\_id<br  /><br  />(Type: Integer) | The latest time when the data has been updated<br  /><br  />Linked table on EI : time | Yes<br  /><br  />Dimension Name:Time |
| dim\_task\_id<br  /><br  />(Type: Integer) | Captures the id for the task(Same as Task\_id)<br  /><br  />Linked table on EI : tasks | Yes<br  /><br  />Dimension Name:task |
| dim\_updated\_date\_id<br  /><br  />(Type: Integer) | Captures the date when the date has been updated<br  /><br  />Linked table on EI : date | Yes<br  /><br  />Dimension Name:Date |
| dim\_updated\_time\_id<br  /><br  />(Type: Integer) | Captures the time when the date has been updated<br  /><br  />Linked table on EI : time | Yes<br  /><br  />Dimension Name:Time |
| task\_id<br  /><br  />(Type: Integer) | Unique id for the Task that has been configured for the campaings<br  /><br  />Linked table on EI : NA | Yes<br  /><br  />Measure Name:Task Id |

# Nsadmin Messages


This fact table captures all communications sent to customers. This table lets you access both, transaction and campaign messages together.

**Nsadmin Messages Fact Table**

| Column Name                  | Data Type | Description                                                                                                                                                       | Linked Table                                                                                              | Available for Export in Messages Template          |
| ---------------------------- | --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- | -------------------------------------------------- |
| auto_update_time_nsadmin     | bigint    | Date and time when the corresponding record in the nsadmin table available at the source was last updated. It is in the Unix timestamp format.                    | \_                                                                                                        | Yes; Measure Name: Auto Update Time Nsadmin        |
| client_context_id            | bigint    | The context ID to which the message belongs. If the message is triggered by campaigns, it will be the communication details ID.                                   | \_                                                                                                        | Yes; Measure Name: Client Context Id               |
| client_id                    | bigint    | Identifier of the client that triggered the message, such as campaigns. Each module has a unique static ID.                                                       | \_                                                                                                        | Yes; Measure Name: Client Id                       |
| dim_account_id               | bigint    | Identifier for the gateway account used for the communication.                                                                                                    | [gateway](https://docs.capillarytech.com/docs/dimension-tables#gateway)                                   | Yes; Dimension Name: Gateway Account > Id          |
| dim_campaign_id              | bigint    | Captures the campaign details for which the communication occurred.                                                                                               | [campaigns](https://docs.capillarytech.com/docs/dimension-tables#campaigns)                               | Yes; Dimension Name: Campaign > Campaign Id        |
| dim_communication_channel_id | bigint    | Indicates the channel used for communicating with the customer. Possible values are - SMS, email, voicemail, Wechat, Facebook, Viber, etc.                        | [communication_channel](https://docs.capillarytech.com/docs/dimension-tables#communication-channel)       | Yes; Dimension Name: Communication Channel > Id    |
| dim_communication_client_id  | bigint    | Identifier of the client associated with the communication. Possible values are - Loyalty, promotion, referral, etc.                                              | [communication_client](https://docs.capillarytech.com/docs/dimension-tables#communication-client)         | Yes; Dimension Name: Communication Client > Id     |
| dim_delivery_status_id       | bigint    | Identifier assigned to the nsadmin message delivery status. Possible values are - Delayed delivery, clicked, opened, received, read, sending, sent, blocked, etc. | [campaign_delivery_status](https://docs.capillarytech.com/docs/dimension-tables#campaign-delivery-status) | Yes; Dimension Name: Delivery Status > Id          |
| dim_event_date_id            | bigint    | Date of the communication.                                                                                                                                        | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                         | Yes; Dimension Name: Date > Date                   |
| dim_event_time_id            | bigint    | Time of the communication.                                                                                                                                        | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                         | Yes; Dimension Name: Time > Time Id                |
| dim_event_user_id            | bigint    | Identifier of the customer for which the communication occurred, set internally by Capillary.                                                                     | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)                                 | Yes; Dimension Name: User > User Id                |
| dim_latest_updated_date_id   | bigint    | Date when the data corresponding to this event row is changed in the source table.                                                                               | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                         | Yes; Dimension Name: Latest Updated Date > Date    |
| dim_latest_updated_time_id   | bigint    | Time when the data corresponding to this event row is changed in the source table.                                                                               | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                         | Yes; Dimension Name: Latest Updated Time > Time Id |
| dim_nsadmin_priority_id      | bigint    | Identifier of the nsadmin message priority. Possible values are - High, default, and bulk.                                                                        | [nsadmin_priority](https://docs.capillarytech.com/docs/dimension-tables#nsadmin-priority)                 | Yes; Dimension Name: Nsadmin Priority > Id         |
| message                      | string    | Content of the message.                                                                                                                                           | \_                                                                                                        | Yes; Measure Name: Message                         |
| message_count                | bigint    | Total number of messages sent.                                                                                                                                    | \_                                                                                                        | Yes; Measure Name: Message Count                   |
| nsadmin_id                   | bigint    | Unique id of the message as available in the nsadmin table. It is the primary key of the table.                                                                   | \_                                                                                                        | Yes; Measure Name: Nsadmin Id                      |
| year                         | int       | Year when the communication was sent.                                                                                                                             | \_                                                                                                        | Yes; Dimension Name: Year                          |

<br  />

# Contact Info


Whenever a campaign is run, the brand sends multiple messages to the customers. Each row in this fact table captures the communication that is done with the customer, as a part of the campaign. It captures data such as the date and time when the customer was contacted, the time when the customer accessed the campaign email, the channel used for communication (SMS, Whatsapp, etc.), and more. This fact table is linked to multiple dimension tables, which store the communication related attributes.

| Column Name                     | Type   | Description                                                                                                                                                        | Linked Table                                                                                              | Available for Export in Contacted Template       |
| ------------------------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| auto_update_time_comm_details   | bigint | Date and time when the corresponding record in the communication details table available at the source was last updated. It is in the Unix timestamp format.       | \_                                                                                                        | Yes; Measure Name: Auto Update Time Comm Details |
| auto_update_time_contact        | bigint | Date and time when the corresponding record in the contact table available at the source was last updated. It is in the Unix timestamp format.                     | \_                                                                                                        | Yes; Measure Name: Auto Update Time Contact      |
| auto_update_time_email_stats    | bigint | Date and time when the corresponding record in the email stats table available at the source was last updated. It is in the Unix timestamp format.                 | \_                                                                                                        | Yes; Measure Name: Auto Update Time Email Stats  |
| auto_update_time_subs_stats     | bigint | Date and time when the corresponding record in the subscription status table available at the source was last updated. It is in the Unix timestamp format.         | \_                                                                                                        | Yes; Measure Name: Auto Update Time Subs Stats   |
| dim_campaign_delivery_status_id | bigint | Unique identifier assigned to the campaign delivery status. Possible values are - Sent, Delivered, Not_delivered, Failed, etc.                                     | [campaign_delivery_status](https://docs.capillarytech.com/docs/dimension-tables#campaign-delivery-status) | Yes; Dimension Name: Campaign Delivery Status    |
| dim_campaign_group_id           | bigint | Unique identifier assigned to the campaign group. Possible values are - Test and Control.                                                                          | [campaign_group](https://docs.capillarytech.com/docs/dimension-tables#campaign-group)                     | Yes; Dimension Name: Campaign Group              |
| dim_campaign_id                 | bigint | Unique identifier assigned to the campaign.                                                                                                                        | [Campaigns](https://docs.capillarytech.com/docs/dimension-tables#campaigns)                               | Yes; Dimension Name: Campaign                    |
| dim_campaign_message_id         | bigint | Unique identifier assigned to the message sent for the campaign.                                                                                                   | [campaign_msg](https://docs.capillarytech.com/docs/dimension-tables#campaign-message-campaign_msg)        | Yes; Dimension Name: Campaign Message            |
| dim_communication_channel_id    | bigint | Indicates the channel used for communicating with the customer. Possible values are - SMS, email, voicemail, WeChat, Facebook, Viber, etc.                         | [communication_channel](https://docs.capillarytech.com/docs/dimension-tables#communication-channel)       | Yes; Dimension Name: Communication Channel       |
| dim_contact_date_id             | bigint | Date when the customer was contacted.                                                                                                                              | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                         | Yes; Dimension Name: Campaign Contact Date       |
| dim_contact_time_id             | bigint | Time when the customer was contacted.                                                                                                                              | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                         | Yes; Dimension Name: Campaign Contact Time       |
| dim_email_open_date_id          | bigint | Date when the email within a campaign was accessed.                                                                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                         | Yes; Dimension Name: Link Open Date              |
| dim_email_open_time_id          | bigint | Time when the email within a campaign was accessed.                                                                                                                | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                         | Yes; Dimension Name: Link Open Time              |
| dim_event_date_id               | bigint | Date when the communication with the customer was done.                                                                                                            | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                         | Yes; Dimension Name: Date                        |
| dim_event_time_id               | bigint | Time when the communication with the customer was done.                                                                                                            | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                         | Yes; Dimension Name: Time                        |
| dim_event_user_id               | bigint | Unique identifier assigned to the user by Capillary. It is the primary key for this table.                                                                         | [Users](https://docs.capillarytech.com/docs/dimension-tables#users-users)                                 | Yes; Dimension Name: User Id                     |
| dim_event_zone_till_id          | bigint | Identifier assigned to the point-of-sale (POS) terminal within a store. It distinguishes one checkout location from another within the same store.                 | [Zone_tills](https://docs.capillarytech.com/docs/dimension-tables#zone-till)                              | Yes; Dimension Name: Store Hierarchy             |
| dim_latest_updated_date_id      | bigint | Date when the data corresponding to this event row is changed in the source table.                                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                         | Yes; Dimension Name: Latest Updated Date         |
| dim_latest_updated_time_id      | bigint | Time when the data corresponding to this event row is changed in the source table.                                                                                | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                         | Yes; Dimension Name: Latest Updated Time         |
| dim_unsubscription_status_id    | bigint | Unique id generated by the system for the unsubscription status. It indicates whether the customer has opted to unsubscribe or not.                                | [unsubscription_status](https://docs.capillarytech.com/docs/dimension-tables#unsubscription-status)       | Yes; Dimension Name: Unsubscription Status       |
| message_body                    | string | Contains the actual content of the message that was sent to the customers.                                                                                         | \_                                                                                                        | Yes; Measure Name: Message Body                  |
| msg_id                          | bigint | Represents the template id generated for each message template within a campaign. It is the primary key for this table.                                            | \_                                                                                                        | Yes; Measure Name: Messageentityid               |
| nsadmin_id                      | bigint | Communication id corresponding to a specific communication to a customer. This represents the most granular level of data we collect for a specific communication. | \_                                                                                                        | Yes; Measure Name: Nsadmin Id                    |
| open_count                      | int    | Number of times the email message has been opened.                                                                                                                 | \_                                                                                                        | Yes; Measure Name: Open Count                    |
| total_link_click_count          | int    | Total number of times the links within an email have been clicked by the customer.                                                                                 | \_                                                                                                        | Yes; Measure Name: Total Link Click Count        |
| unsubscribed                    | string | Captures the subscription status of the customer. If the customer has unsubscribed, it will be marked as "Yes"; if not, it will be labelled as "NOT-YET."          | \_                                                                                                        | Yes; Measure Name: Unsubscribed                  |
| year                            | int    | Year of the communication.                                                                                                                                         | \_                                                                                                        | Yes; Dimension Name: Year                        |
| dim_communication_type_id       | bigint | Identifier for the type of communication received by the customer. It is the primary key for this table.                                                           | [communication_type](https://docs.capillarytech.com/docs/dimension-tables#communication-type)             | Yes; Dimension Name: Communication Type          |

# Response Info


| Sr num | Column Name and Type | Description | Available for export in Responders template |
| --- | --- | --- | --- |
| 1 | bill\_amount<br  />\[Type : Integer\] | Measures the net amount of the transaction made by the user | Yes<br  /><br  />Measure name :Bill Amount |
| 2 | bill\_discount<br  />\[Type : Integer\] | Measures the total discount applied on the bill | Yes<br  /><br  />Measure name :Bill Discount |
| 3 | bill\_id<br  />\[Type : Integer\] | A unique id generated for the bill internally by capillary system. It helps in differentiating one customer's bill from another | Yes<br  /><br  />Measure name :Bill Id |
| 4 | bill\_number<br  />\[Type : Integer\] | A unique number for a transaction that is either auto-generated at the POS machine or provided manually | Yes<br  /><br  />Measure name :Bill Number |
| 5 | dim\_bill\_outlier\_status\_id<br  />\[Type : Integer\] | Outlier status of the bills on bill level | Yes<br  /><br  />Dimension Name: Bill Outlier |
| 6 | dim\_campaign\_delivery\_status\_id<br  />\[Type : Integer\] | Unique id generated by the system which tells the campaigns delivery status<br  /><br  />Linked table :Delivery\_status | Yes<br  /><br  />Dimension Name:campaign\_delivery\_status |
| 7 | dim\_campaign\_group\_id<br  />\[Type : Integer\] | Unique id generated by the system which specifies the group of the campaign<br  /><br  />Linked table:Campaign\_group | Yes<br  /><br  />Dimension Name:campaign\_group |
| 8 | dim\_campaign\_id<br  />\[Type : Integer\] | Unique id generated by the system for the campaigns<br  /><br  />Linked table:Campaigns | Yes<br  /><br  />Dimension Name:campaign |
| 9 | dim\_campaign\_message\_id<br  />\[Type : Integer\] | Unique id generated by the system for the campaign\_message | Yes<br  /><br  />Dimension Name:campaign\_message |
| 10 | dim\_campaign\_schedule\_date\_id<br  />\[Type : Integer\] | Measures the date when the campaign has been schedule<br  /><br  />Linked table: date | Yes<br  /><br  />Dimension Name:campaign\_schedule\_date |
| 11 | dim\_campaign\_schedule\_time\_id<br  />\[Type : Integer\] | Measures the time when the campaign has been schedule<br  /><br  />Linked table:time | Yes<br  /><br  />Dimension Name:campaign\_schedule\_time |
| 12 | dim\_communication\_channel\_id<br  />\[Type : Integer\] | Type of communication channel on which the message has been communicated to the user<br  /><br  />Linked table : communication\_channel | Yes<br  /><br  />Dimension Name:communication\_channel |
| 13 | dim\_communication\_type\_id<br  />\[Type : Integer\] | Type of communication which has been received by the user<br  /><br  />Linked table: communication\_type | Yes<br  /><br  />Dimension Name:communication\_type |
| 14 | dim\_email\_open\_date\_id<br  />\[Type : Integer\] | Measures the date when the email has been opened.<br  /><br  />Linked table: Date | No |
| 15 | dim\_email\_open\_time\_id<br  />\[Type : Integer\] | Measures the time when the email has been opened<br  /><br  />Linked table: time | No |
| 16 | dim\_event\_date\_id<br  />\[Type : Integer\] | Measures the date when the event has occured<br  /><br  />Linked table: date | Yes<br  /><br  />Dimension Name:Date |
| 17 | dim\_event\_time\_id<br  />\[Type : Integer\] | Measures the time stamp when the event has occured , it captures upto minutes and seconds is not captured<br  /><br  />Linked table: time | Yes<br  /><br  />Dimension Name:Time |
| 18 | dim\_event\_user\_id<br  />\[Type : Integer\] | Unique user identifier , this is an integer set internally by capillary.<br  /><br  />Linked table:User | Yes<br  /><br  />Dimension Name:User |
| 19 | dim\_event\_zone\_till\_id<br  />\[Type : Integer\] | Captures till\_id of a store where the event has occured.<br  /><br  />Linked table: zone | Yes<br  /><br  />Dimension Name:Store Hierarchy |
| 20 | dim\_item\_id<br  />\[Type : Integer\] | Unique id generated by the system for a specific item.<br  /><br  />Linked table: item<br  /> | No |
| 21 | dim\_latest\_updated\_date\_id<br  />\[Type : Integer\] | The latest updated date when the data has been updated.<br  /><br  />Linked table: table | Yes<br  /><br  />Dimension Name:latest\_updated\_date |
| 22 | dim\_latest\_updated\_time\_id<br  />\[Type : Integer\] | The latest updated time when the table has been updated.<br  /><br  />Linked table:time | latest\_updated\_time |
| 23 | dim\_line\_item\_outlier\_status\_id<br  />\[Type : Integer\] | Outlier status of the bills at lineitem level.<br  /><br  />Linked table: outlier\_status<br  /> | Yes<br  /><br  />Dimension Name:Line Item Outlier |
| 24 | dim\_loyalty\_type\_id<br  />\[Type : Integer\] | Loyalty type of the customer.Could be loyalty ,non\_loyalty or not\_registered<br  /><br  />Linked table:loyalty\_type | Yes<br  /><br  />Dimension Name:Loyalty |
| 25 | dim\_repeat\_status\_id<br  />\[Type : Integer\] | Repeat status of the customer.<br  /><br  />Linked table: repeat\_status | Yes<br  /><br  />Dimension Name:Repeat |
| 26 | dim\_source\_type\_id<br  />\[Type : Integer\] | <br  />Source of the bill<br  /><br  />Linked table : source\_type<br  /> | Yes<br  /><br  />Dimension Name:Source |
| 27 | dim\_unsubscription\_status\_id<br  />\[Type : Integer\] | Unique id generated by the system for the unsubsription status | Yes<br  /><br  />Dimension Name:unsubscription status |
| 28 | item\_code<br  />\[Type : String\] | The unique code of the line-item | Yes<br  /><br  />Measure name :Item Code |
| 29 | line\_item\_amount<br  />\[Type : Integer\] | Total amount after discount including tax.<br  /> | Yes<br  /><br  />Measure name :Line Item Amount |
| 30 | line\_item\_discount<br  />\[Type : Integer\] | Discount given for the particular line-item<br  /> | Yes<br  /><br  />Measure name :Line Item Discount |
| 31 | line\_item\_id<br  />\[Type : Integer\] | Unique id generated by the system for the line-item<br  /> | Yes<br  /><br  />Measure name :Line Item Id |
| 32 | msg\_id<br  />\[Type : Integer\] | Unique if for the messge that has been configuried in the campaigns | Yes<br  /><br  />Measure name :Msg Id |
| 33 | quantity<br  />\[Type : Integer\] | Total count of quantity in the transaction | Yes<br  /><br  />Measure name :Quantity |
| 34 | redeemed\_points<br  />\[Type : Integer\] | Total point been redeemed on the transaction | Yes<br  /><br  />Measure name :Redeemed Points |
| 35 | total\_link\_click\_count<br  />\[Type : Integer\] | Total count of click that has been done by the user on the link which has been added in the message | Yes<br  /><br  />Measure name :Total Link Click Count |
| 36 | year<br  />\[Type : Integer\] | Year when the transaction has been done | No |

<br  />

# Referrals


This table captures the referral events. Referrals involve directing new customers to transact with the brand. The person who makes the referral is known as a referrer, while the individual who receives the referral invite is called a referee. This fact table captures all the information surrounding the referral event, such as the date and time of the referral, store associated with the referral, referrer and referee identifiers, and the campaign associated with the referral.

**Referrals Entity Relationship Diagram**

Zoom in the table for more clarity. Click the table title to view its details.

**Referrals Fact Table**

| Column Name                | Data Type | Description                                                                                                                                                                                       | Linked Table                                                                |
| -------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| auto_update_time           | bigint    | Date and time when the corresponding table available at the source was last updated. It is in the Unix timestamp format.                                                                          | \_                                                                          |
| context_id                 | bigint    | Identifier for the context in which the action occurred, such as a specific campaign or promotion context.                                                                                        | \_                                                                          |
| dim_campaign_id            | bigint    | Identifier for the campaign associated with the referral action.                                                                                                                                  | [campaign](https://docs.capillarytech.com/docs/dimension-tables#campaigns)  |
| dim_event_date_id          | bigint    | Date when the referral action occurred.                                                                                                                                                           | [date](https://docs.capillarytech.com/docs/dimension-tables#date)           |
| dim_event_time_id          | bigint    | Time when the referral action occurred.                                                                                                                                                           | [time](https://docs.capillarytech.com/docs/dimension-tables#time)           |
| dim_event_user_id          | bigint    | Identifier for the customer associated with the referral action.                                                                                                                                  | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)   |
| dim_event_zone_till_id     | bigint    | Identifier assigned to the point-of-sale (POS) terminal within a store, where the referral occurred. It distinguishes one checkout location from another within the same store.                   | [zone till](https://docs.capillarytech.com/docs/dimension-tables#zone-till) |
| dim_latest_updated_date_id | bigint    | Date when the data corresponding to this event/row is changed in the source table.                                                                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)           |
| dim_latest_updated_time_id | bigint    | Time when the data corresponding to this event/row is changed in the source table.                                                                                                                | [time](https://docs.capillarytech.com/docs/dimension-tables#time)           |
| dim_referred_to_user_id    | bigint    | Identifier for the customer who was referred (referee).                                                                                                                                           | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)   |
| event_type                 | string    | The type of event, such as "Referral Registration" (when a referee registers as a result of a referral) or "Referral Transaction" (when a referee makes a transaction as a result of a referral). | \_                                                                          |
| referee_id                 | bigint    | Unique identifier for the referee (the customer who was referred). It is the primary key of the table.                                                                                            | \_                                                                          |
| year                       | int       | Year of the referral.                                                                                                                                                                             | \_                                                                          |

<br  />

# Referrers


This table captures the information of the referrers. A referrer is a customer who refers other customers to transact with the brand. This fact table captures all the information surrounding the referrer, such as the referrer identifier, date and time of the referral, campaign associated with the referral, and the token associated with the referral campaign.

**Referrers Entity Relationship Diagram**

Zoom in the table for more clarity. Click the table title to view its details.

**Referrers Fact Table**

| Column Name                | Data Type | Description                                                                                                              | Linked Table                                                               |
| -------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------- |
| auto_update_time           | bigint    | Date and time when the corresponding table available at the source was last updated. It is in the Unix timestamp format. | \_                                                                         |
| dim_campaign_id            | bigint    | Identifier for the campaign associated with the referral action.                                                         | [campaign](https://docs.capillarytech.com/docs/dimension-tables#campaigns) |
| dim_event_date_id          | bigint    | Date when the referral action occurred.                                                                                  | [date](https://docs.capillarytech.com/docs/dimension-tables#date)          |
| dim_event_time_id          | bigint    | Time when the referral action occurred.                                                                                  | [time](https://docs.capillarytech.com/docs/dimension-tables#time)          |
| dim_event_user_id          | bigint    | Identifier for the customer associated with the referral action.                                                         | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)  |
| dim_latest_updated_date_id | bigint    | Date when the data corresponding to this event/row is changed in the source table.                                       | [date](https://docs.capillarytech.com/docs/dimension-tables#date)          |
| dim_latest_updated_time_id | bigint    | Time when the data corresponding to this event/row is changed in the source table.                                       | [time](https://docs.capillarytech.com/docs/dimension-tables#time)          |
| referrer_id                | bigint    | Unique identifier for the referrer (the customer who referred another customer). It is the primary key for this table.   | \_                                                                         |
| token                      | string    | Unique token of the referral campaign.                                                                                   | \_                                                                         |
| year                       | int       | Year of the referral.                                                                                                    | \_                                                                         |

<br  />

# Communication Credits Log


This fact table captures the addition or removal of credits. Organisations are charged credits for sending communications (SMS, email, and X-Engage) to customers through Capillary products. This fact table captures information such as the user who added the credits; the credit type; date and time of the credit addition removal; etc. Mapping data from this table and the linked dimension tables helps in analysing the credit usage patterns for brands.

**Communication Credits Log Entity Relationship Diagram**

Zoom in the table for more clarity. Click the table title to view its details.

**Communication Credits Log Fact Table**

| Column Name                  | Data Type | Description                                                                                                                                        | Linked Table                                                                                        |
| ---------------------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| abs_credit_value             | integer   | Absolute value of 'src (source)\_credit_value' (e.g, if 'src_credit_value' is -2 or 2, then 'abs_credit_value' would be 2).                        | \_                                                                                                  |
| auto_update_time_credits_log | bigint    | Date and time when the corresponding record in the credits_log table available at the source was last updated. It is in the Unix timestamp format. | \_                                                                                                  |
| comments                     | string    | Comments or notes associated with the credit utilization.                                                                                          | \_                                                                                                  |
| dim_added_by_user_id         | bigint    | Unique identifier of the user from the brand Capillary side who initiated the credit utilization or modification.                                 | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)                           |
| dim_communication_channel_id | bigint    | Indicates the channel used for communicating with the customer. Possible values are - SMS, email, voicemail, Wechat, Facebook, Viber, etc.         | [communication_channel](https://docs.capillarytech.com/docs/dimension-tables#communication-channel) |
| dim_credit_type_id           | bigint    | Identifier for the type of credit utilization. Possible values are, credits - Added, or Removed.                                                   | [credit_type](https://docs.capillarytech.com/docs/dimension-tables#credit-type)                     |
| dim_event_date_id            | bigint    | Date when the credit utilization occurred.                                                                                                         | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                   |
| dim_event_time_id            | bigint    | Time when the credit utilization occurred.                                                                                                         | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                   |
| dim_latest_updated_date_id   | bigint    | Date when the data corresponding to this event row is changed in the source table.                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                   |
| dim_latest_updated_time_id   | bigint    | Time when the data corresponding to this event row is changed in the source table.                                                                | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                   |
| id                           | bigint    | Unique identifier of the credit log entry. It is the primary key of the table.                                                                     | \_                                                                                                  |
| is_deleted                   | integer   | Indicates whether the credit log entry has been deleted (0 for not deleted, 1 for deleted).                                                        | \_                                                                                                  |
| src_credit_value             | integer   | Represents the source credit value, before any modifications (addition or removal).                                                                | \_                                                                                                  |
| year                         | integer   | Year of the credit utilization.                                                                                                                    | \_                                                                                                  |

<br  />

# Email click stats


This fact table represents the event where the customer clicks the link in the campaign email. It captures information like the number of times links within emails were clicked; the link and message id; date and time of the click; etc. It is linked to the campaign, users, date and time dimension tables which provide other relevant attributes.

**Email Click Stats Entity Relationship Diagram**

Zoom in the table for more clarity. Click the table title to view its details.

**Email Click Stats Fact Table**

| Column Name                             | Data Type | Description                                                                                                                                                   |                                 Linked Table                                |
| :-------------------------------------- | :-------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-------------------------------------------------------------------------: |
| auto_update_time_link_redirection       |   bigint  | Date and time when the corresponding record in the link redirection table available at the source was last updated. It is in the Unix timestamp format.       |                                      \_                                     |
| auto_update_time_link_redirection_stats |   bigint  | Date and time when the corresponding record in the link redirection stats table available at the source was last updated. It is in the Unix timestamp format. |                                      \_                                     |
| clicks                                  |    int    | Number of times the link in the email was clicked.                                                                                                            |                                      \_                                     |
| dim_campaign_id                         |   bigint  | Identifier for the campaign in which the email message is configured.                                                                                         | [campaigns](https://docs.capillarytech.com/docs/dimension-tables#campaigns) |
| dim_event_date_id                       |   bigint  | Date when the email was accessed by the customer.                                                                                                             |      [date](https://docs.capillarytech.com/docs/dimension-tables#date)      |
| dim_event_time_id                       |   bigint  | Time when the email was accessed by the customer.                                                                                                             |      [time](https://docs.capillarytech.com/docs/dimension-tables#time)      |
| dim_event_user_id                       |   bigint  | Identifier of the customer associated with the email click.                                                                                                   |  [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)  |
| dim_latest_updated_date_id              |   bigint  | Date when the data corresponding to this event row is changed in the source table.                                                                           |      [date](https://docs.capillarytech.com/docs/dimension-tables#date)      |
| dim_latest_updated_time_id              |   bigint  | Time when the data corresponding to this event row is changed in the source table.                                                                           |      [time](https://docs.capillarytech.com/docs/dimension-tables#time)      |
| id                                      |   bigint  | Unique identifier of the table. It is the primary key of the table.                                                                                           |                                      \_                                     |
| link_id                                 |   bigint  | Unique identifier of the link. It is the primary key of the table.                                                                                            |                                      \_                                     |
| msg_id                                  |   bigint  | Identifier of the email message.                                                                                                                              |                                      \_                                     |
| year                                    |    int    | Year when the email was clicked.                                                                                                                              |                                      \_                                     |

# Members


| Column name and type | Description | Available for export in Member Fact template |
| --- | --- | --- |
| dim\_latest\_updated\_date\_id<br  /><br  />(Type - date) | This refers to the latest date when any rows of this table got updated<br  /><br  />Linked Table on EI : Date | Yes<br  /><br  />Measure Name = latest\_updated\_date\_\_date |
| dim\_latest\_updated\_time\_id<br  /><br  />Type - time | This refers to the latest time stamp when any rows of this table got updated<br  /><br  />Linked Table on EI : time | Yes<br  /><br  />Measure Name = latest\_updated\_time\_\_time |
| dim\_event\_date\_id<br  /><br  />Type - date | This refers to the date when customer registration occured<br  /><br  />Linked Table on EI : date | Yes<br  /><br  />Measure Name = Date\_\_date |
| dim\_event\_time\_id<br  /><br  />Type - time | This refers to the registration time (only upto minute)<br  /><br  />Linked Table on EI : time | Yes<br  /><br  />Measure Name = Time\_\_time |
| dim\_event\_user\_id<br  /><br  />Type - int | This is a capillary assigned user identifier<br  /><br  />Linked Table on EI : Event\_Users | Yes<br  /><br  />Measure Name = User\_\_user\_id |
| Tata Specific<br  /><br  />Type - string | tata assgined user identifier<br  /><br  />Linked Table on EI : N/A | Yes<br  /><br  />Measure Name = User\_\_customer\_external\_id |
| <br  /><br  />Type - int | till identifier where the customer got registered<br  /><br  />Linked Table on EI : N/A | Yes<br  /><br  />Measure Name = User\_\_registered\_till\_id |
| dim\_joined\_date\_id<br  /><br  />Type - date | this is same as registration date<br  /><br  />Linked Table on EI : Date | Yes<br  /><br  />Measure Name = joined\_date\_\_date |
| Brand Specific<br  /><br  />Type - string | This is a custom field<br  /><br  />Linked Table on EI : N/A | Yes<br  /><br  />Measure Name = user\_cf\_ihcl\_active |
| Brand Specific<br  /><br  />Type - string | This is a custom field<br  /><br  />Linked Table on EI : N/A | Yes<br  /><br  />Measure Name = user\_cf\_tcp\_active |
| Brand Specific<br  /><br  />Type - string | This is a custom field<br  /><br  />Linked Table on EI : N/A | Yes<br  /><br  />Measure Name = user\_cf\_tierup |
| Brand Specific<br  /><br  />Type - string | This is a custom field<br  /><br  />Linked Table on EI : N/A | Yes<br  /><br  />Measure Name = user\_cf\_tierup\_airasia |
| Brand Specific<br  /><br  />Type - string | This is a custom field<br  /><br  />Linked Table on EI : N/A | Yes<br  /><br  />Measure Name = user\_cf\_up\_reason |
| auto\_update\_time\_cps<br  /><br  />Type - time | Updated time when the Customer point summary table has been updated<br  /><br  />Linked Table on EI : N/A | No |
| dim\_conversion\_date\_id<br  /><br  />Type - date | measured the date when the user has been covnerted from non loylaty to loyalty customer<br  /><br  />Linked Table on EI : Date | No |
| auto\_update\_time\_extnd<br  /><br  />Type - Time | extended field when it was last updated<br  /><br  />Linked Table on EI : N/A | No |
| auto\_update\_time\_loyalty<br  /><br  />Type - string | Time stamp when the loyalty table has been updated<br  /><br  />Linked Table on EI : N/A | No |
| average\_spent\_per\_sku<br  /><br  />Type - Interger | Average amount spend on the SKU Level<br  /><br  />Linked Table on EI : N/A | No |
| average\_spent\_per\_visit<br  /><br  />Type - Interger | Average amount spent on each visit<br  /><br  />Linked Table on EI : N/A | No |
| cancelled\_points<br  /><br  />Type - Interger | Total number of points has been cancled in the till date<br  /><br  />Linked Table on EI : N/A | No |
| till date\_points<br  /><br  />Type - Interger | Total number of points has been issued to customer in till date<br  /><br  />Linked Table on EI : N/A | No |
| year<br  /><br  />Type - Interger | Yera when the customer has been register<br  /><br  />Linked Table on EI : N/A | No |
| dim\_conversion\_time\_id<br  /><br  />Type - time | measured the date when when the user has been covnerted from non loylaty to loyalty customer<br  /><br  />Linked Table on EI : time | No |
| dim\_dob\_id<br  /><br  />Type - Date | measured the date for user's Date of birth<br  /><br  />Linked Table on EI : Date | No |
| dim\_event\_zone\_till\_id<br  /><br  />Type - Interger | till\_id of a store where the user registration done<br  /><br  />Linked Table on EI : Event\_zone | No |
| dim\_first\_awarded\_date\_id<br  /><br  />Type - Date | measured the date when first point has been awared<br  /><br  />Linked Table on EI : Date | No |
| dim\_first\_bill\_date\_id<br  /><br  />Type - Date | measured the date when the first bill has been made<br  /><br  />Linked Table on EI : Date | No |
| dim\_first\_points\_redemption\_date\_id<br  /><br  />Type - Date | measured the date when the first point has been redemed<br  /><br  />Linked Table on EI : Date | No |
| dim\_first\_purchased\_till\_id<br  /><br  />Type - Interger | till\_id of a store where the first bill has been made<br  /><br  />Linked Table on EI : Event\_zone | No |
| dim\_first\_redeemption\_date\_id<br  /><br  />Type - Date | measured the date when the first redemption happend<br  /><br  />Linked Table on EI : Date | No |
| dim\_lapsation\_date\_id<br  /><br  />Type - Date | lapsation date of customer, usually its last\_bill\_date + 90<br  /><br  />Linked Table on EI : Date | No |
| dim\_last\_bill\_date\_id<br  /><br  />Type - Date | measured the date the last bill has been made<br  /><br  />Linked Table on EI : Date | No |
| dim\_last\_points\_redemption\_date\_id<br  /><br  />Type - date | measured the date when the recent point redemptation activity happened<br  /><br  />Linked Table on EI : Date | No |
| dim\_last\_purchased\_till\_id<br  /><br  />Type - date | till\_id of a store where the last bill has been made<br  /><br  />Linked Table on EI : Event\_zone | No |
| dim\_last\_redeemption\_date\_id<br  /><br  />Type - date | measured the date when the recent redemptation activity happened<br  /><br  />Linked Table on EI : Date | No |
| dim\_loyalty\_type\_id<br  /><br  />Type - Interger | Loyalty type of the customer<br  />1 loyalty<br  />2 non\_loyalty<br  />3 not\_registered<br  /><br  />Linked Table on EI : loyalty\_type | No |
| dim\_points\_redemption\_status\_id<br  /><br  />Type - Interger | <br  /><br  />Linked Table on EI : N/A | No |
| dim\_preferred\_order\_channel\_id<br  /><br  />Type - Interger | Prefrrred channel from where the user use to order<br  /><br  />Linked Table on EI : order\_channel | No |
| dim\_preferred\_store\_id<br  /><br  />Type - Interger | Preferred store where the user visit for the transaction<br  /><br  />Linked Table on EI : Event\_zone | No |
| dim\_repeat\_status\_id<br  /><br  />Type - Interger | Stands for the repeat status of customer either customer first timer or repeat<br  /><br  />Linked Table on EI : repeat\_status | No |
| dim\_source\_type\_id<br  /><br  />Type - Interger | Stands for the sourece name using that customer registration happend(like instore,app,Wechat)<br  /><br  />Linked Table on EI : Source\_type | No |
| dim\_voucher\_redemption\_status\_id<br  /><br  />Type - Interger | <br  /><br  />Linked Table on EI : N/A | No |
| dim\_wedding\_date\_id<br  /><br  />Type - Date | measured the date for users wedding<br  /><br  />Linked Table on EI : Date | No |
| expired\_points<br  /><br  />Type - Interger | Total point which is expired for user till date<br  /><br  />Linked Table on EI : N/A | No |
| first\_visit\_basket\_size<br  /><br  />Type - Interger | Stands for the count of quantity when the user has done the first transaction<br  /><br  />Linked Table on EI : N/A | No |
| first\_visit\_bill\_amount<br  /><br  />Type - Interger | Stands for the transaction amount when the user has done the first transaction<br  /><br  />Linked Table on EI : N/A | No |
| has\_spike\_bill<br  /><br  />Type - Interger | if the customer has made a bill which is 10 times its average bill value at some point in time<br  />New<br  />this is more for fraud detection<br  /><br  />Linked Table on EI : N/A | No |
| last\_updated\_by\_till\_id<br  /><br  />Type - Interger | Till\_id where the customer details has been updated recently<br  /><br  />Linked Table on EI : N/A | No |
| last\_visit\_bill\_amount<br  /><br  />Type - Interger | Stands for the recent transaction amount made by the user<br  /><br  />Linked Table on EI : N/A | No |
| latency<br  /><br  />Type - Interger | Stands for average number of days between two successive visits on a customers<br  /><br  />Linked Table on EI : N/A | No |
| line\_item\_count<br  /><br  />Type - Interger | Sands for total amount of different products bought by the customers till date<br  /><br  />Linked Table on EI : N/A | No |
| loyalty\_id<br  /><br  />Type - Interger | primary key of user\_managment.loyalty(source table) (Not use for bussiness purpose)<br  /><br  />Linked Table on EI : N/A | No |
| loyalty\_points<br  /><br  />Type - Interger | The total amount of redeemable points available with the customer as on today<br  /><br  />Linked Table on EI : N/A | No |
| max\_bill\_amount<br  /><br  />Type - Interger | Maxmimun amount on a single bill has been done by user till date<br  /><br  />Linked Table on EI : N/A | No |
| max\_bill\_count\_in\_day<br  /><br  />Type - Interger | Maximum number of transaction has been done in a day by the user till date<br  /><br  />Linked Table on EI : N/A | No |
| max\_bill\_count\_in\_week<br  /><br  />Type - Interger | Maximum number of transaction has been done in a week by the user till date<br  /><br  />Linked Table on EI : N/A | No |
| max\_bill\_hour\_count\_in\_day<br  /><br  />Type - Interger | Maximum number of transaction has been done in an hour by the user till date<br  /><br  />Linked Table on EI : N/A | No |
| max\_zones\_with\_billing\_on\_same\_day<br  /><br  />Type - Interger | Maximum number zone in same day where the bill has been done by user till date<br  /><br  />Linked Table on EI : N/A | No |
| number\_of\_visit\_days<br  /><br  />Type - Interger | The total count of different dates where customer visited the store so far<br  /><br  />Linked Table on EI : N/A | No |
| number\_of\_visits<br  /><br  />Type - Interger | The total count of transactions made by customer till date. This counts date with time stamp<br  /><br  />Linked Table on EI : N/A | No |
| points\_awarded\_days<br  /><br  />Type - Interger | count of the days when the points has been awared to the customer till date<br  /><br  />Linked Table on EI : N/A | No |
| redeemed\_points<br  /><br  />Type - Interger | Total number of points has been redeemed by the customer till date<br  /><br  />Linked Table on EI : N/A | No |
| redeemed\_rate<br  /><br  />Type - Interger | Ration of Transaction where customer done the redemption and total number of transaction till date<br  /><br  />Linked Table on EI : N/A | No |
| redeemed\_visit\_days<br  /><br  />Type - Interger | Number of days visit where the redemption has been done by the user till date<br  /><br  />Linked Table on EI : N/A | No |
| redeemed\_visits<br  /><br  />Type - Interger | Number of visit where the redemption done in user till date<br  /><br  />Linked Table on EI : N/A | No |
| redeemed\_voucher\_count<br  /><br  />Type - Interger | Number of voucher has been redeemed by user till date<br  /><br  />Linked Table on EI : N/A | No |
| redemption\_latency<br  /><br  />Type - Interger | Stands for average number of days between two successive redemption on a customers<br  /><br  /><br  />Linked Table on EI : N/A | No |
| returned\_bill\_amount<br  /><br  />Type - Interger | Total amount has been return by the customer till date<br  /><br  />Linked Table on EI : N/A | No |
| returned\_bill\_count<br  /><br  />Type - Interger | Total number of bills has been returned by customer till date<br  /><br  />Linked Table on EI : N/A | No |
| sku\_purchased<br  /><br  />Type - Interger | Total number of SKU has been purchase by the user till date<br  /><br  />Linked Table on EI : N/A | No |
| skus\_returned<br  /><br  />Type - Interger | Total number of SKU has been return by the customer till date<br  /><br  />Linked Table on EI : N/A | No |
| total\_bill\_amount<br  /><br  />Type - Interger | Total amount that has been spend by user till date<br  /><br  />Linked Table on EI : N/A | No |
| total\_bill\_count<br  /><br  />Type - Interger | This refers to Total number of transaction made by the customer till date<br  /><br  />Linked Table on EI : N/A | No |
| total\_line\_item\_amount<br  /><br  />Type - Integer | This refers to Total line item amount has been purchase by user till date<br  /><br  />Linked Table on EI : N/A | No |
| total\_points\_redeemed<br  /><br  />Type - Integer | This refers to Total points has been redemed by user in till date<br  /><br  />Linked Table on EI : N/A | No |
| total\_returned\_line\_item\_amount<br  /><br  />Type - Integer | This refers to Total line item amount has been return by user till date<br  /><br  />Linked Table on EI : N/A | N |

<br  />

# Bill Line Items


The Bill Line Items fact table provides a granular level view of each transaction at the line item level. For instance, if a customer buys 5 items in a single transaction, the table would contain 5 rows corresponding to each line item. This table captures the information such as bill amount, discount, GST details, line item description, quantity, price, etc.

<Note title="Note">
**Note**

Note

Bill level details remain the same and are repeated across rows.
</Note>

**Bill Line Items Entity Relationship Diagram**

Zoom in the table for more clarity. Click the table title to view its details.

 **Bill line items facts table**

| Column Name                             | Data Type | Description                                                                                                                                                                                                                                                                                        | Linked Table                                                                                                                                               | Available for Export in Transactions Template              |
| :-------------------------------------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------- |
| allocated_points                        | double    | Number of loyalty points allocated to a customer for a specific transaction. Can be on bill level, line item level or customer level.                                                                                                                                                              | \_                                                                                                                                                         | Yes; Measure Name: Allocated Points                        |
| auto_update_time_bill                   | bigint    | Date and time when the corresponding record in the bill table available at the source was last updated. It is in the Unix timestamp format.                                                                                                                                                        | \_                                                                                                                                                         | Yes; Measure Name: Auto Update Time Bill                   |
| auto_update_time_combo_details          | bigint    | Date and time when the corresponding record in the combo_details table available at the source was last updated. Combos typically refer to bundled offers or packages where multiple items are sold together at a discounted price. It is in the Unix timestamp format.                            | \_                                                                                                                                                         | Yes; Measure Name: Auto Update Time Combo Details          |
| auto_update_time_lineitem               | bigint    | Date and time when the line item table (e.g., product name, quantity, price) available at the source was last updated. It is in the Unix timestamp format.                                                                                                                                         | \_                                                                                                                                                         | Yes; Measure Name: Auto Update Time Lineitem               |
| auto_update_time_shipping               | bigint    | Date and time when the corresponding record in the shipping table available at the source was last updated. It is in the Unix timestamp format.                                                                                                                                                    | \_                                                                                                                                                         | Yes; Measure Name: Auto Update Time Shipping               |
| bill_amount                             | double    | Net amount of the transaction made by the customer. Refers to the total amount of the transaction after adjusting any discounts, taxes, etc. It represents the final amount that the customer is required to pay.                                                                                  | \_                                                                                                                                                         | Yes; Measure Name: Bill Amount                             |
| bill_discount                           | double    | Total discount applied on the bill. Possible values are flat discount, percentage discount, etc.                                                                                                                                                                                                   | \_                                                                                                                                                         | Yes; Measure Name: Bill Discount                           |
| bill_id                                 | bigint    | Unique identifier assigned to a bill internally by capillary system. It helps in differentiating one bill from the other. It is the primary key for the table.                                                                                                                                     | \_                                                                                                                                                         | Yes; Measure Name: Bill Id                                 |
| bill_number                             | string    | Unique identifier for the transaction which is either auto-generated at the POS machine or provided manually.                                                                                                                                                                                      | \_                                                                                                                                                         | Yes; Measure Name: Bill Number                             |
| central_gst                             | double    | GST tax levied by the Central Government.                                                                                                                                                                                                                                                          | \_                                                                                                                                                         | Yes; Measure Name: Central Gst                             |
| converted_bill_id                       | bigint    | The new bill id after conversion from non-loyal customer to loyal customer.                                                                                                                                                                                                                        | \_                                                                                                                                                         | Yes; Measure Name: Converted Bill Id                       |
| days_since_last_visit                   | bigint    | The number of days since the customer's last transaction.                                                                                                                                                                                                                                          | \_                                                                                                                                                         | Yes; Measure Name: Days Since Last Visit                   |
| description                             | string    | Description of the line items.                                                                                                                                                                                                                                                                     | \_                                                                                                                                                         | Yes; Measure Name: Description                             |
| dim_bill_conversion_date_id             | bigint    | Date of the bill conversion when the customer has been converted from non loyalty customer to loyalty customer.                                                                                                                                                                                    | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                                                                          | Yes; Dimension Name: Bill Conversion Date > Date           |
| dim_bill_conversion_time_id             | bigint    | Time of the bill conversion when the customer has been converted from non loyalty customer to loyalty customer.                                                                                                                                                                                    | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                                                                          | Yes; Dimension Name: Bill Conversion Time > Time Id        |
| dim_bill_outlier_status_id              | bigint    | Captures whether a bill, identified by its bill_id, contains outlier items. Possible values are - failed, deleted,  fraud, invalid, etc.                                                                                                                                                           | [outlier_status](https://docs.capillarytech.com/docs/dimension-tables#outlier-status)                                                                      | Yes; Dimension Name: Bill Outlier > Id                     |
| dim_buyer_type_id                       | bigint    | Identifier for the type of buyer. Possible values are retail, wholesale, etc.                                                                                                                                                                                                                      | [buyer_type](https://docs.capillarytech.com/docs/dimension-tables#buyer-type)                                                                              | Yes; Dimension Name: Buyer Type > Id                       |
| dim_cashier_id                          | bigint    | Identifier of the cashier who processed the transaction.                                                                                                                                                                                                                                           | [cashier](https://docs.capillarytech.com/docs/dimension-tables#cashier)                                                                                    | Yes; Dimension Name:  Cashier Id > Id                      |
| dim_cashier_name_id                     | bigint    | Name of the cashier who made the bill in POS (point-of-sale) machine.                                                                                                                                                                                                                              | [cashier_name](https://docs.capillarytech.com/docs/dimension-tables#cashier-name)                                                                          | Yes; Dimension Name: Cashier Name > Id                     |
| dim_conversion_request_date_id          | bigint    | Date when the request was raised to convert a bill from non-loyalty customer to loyalty customer status.                                                                                                                                                                                           | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                                                                          | Yes; Dimension Name: Conversion Request Date > Date        |
| dim_conversion_request_time_id          | bigint    | Time when the request was raised to convert a bill from non-loyalty customer to loyalty customer status.                                                                                                                                                                                           | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                                                                          | Yes; Dimension Name: Conversion Request Time > Time Id     |
| dim_discount_reason_id                  | bigint    | Identifier of the reason behind the discount applied to the bill. Possible values for discount are manager_discount, gift_card_discount, employee_discount, member_discount, incorrect_label, advertisement, wrong_display, bulk_customer, wrong_scan, customer, display, faulty, and damaged.     | [lineitem_cashier_discount_reason](https://docs.capillarytech.com/docs/dimension-tables#reason-for-the-cashier-discount-line-item-cashier-discount-reason) | Yes; Dimension Name: Lineitem Cashier Discount Reason > Id |
| dim_event_date_id                       | bigint    | Date when the transaction has occurred.                                                                                                                                                                                                                                                            | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                                                                          | Yes; Dimension Name: Date > Date                           |
| dim_event_time_id                       | bigint    | Timestamp of the transaction, capturing up to minutes (seconds are not captured).                                                                                                                                                                                                                  | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                                                                          | Yes; Dimension Name: Time > Time Id                        |
| dim_event_user_id                       | bigint    | Identifies the user associated with the event. It is an internally assigned value by Capillary for user identification.                                                                                                                                                                            | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)                                                                                  | Yes; Dimension Name: User > User Id                        |
| dim_event_zone_till_id                  | bigint    | Identifier assigned to the point-of-sale (POS) terminal within a store. It distinguishes one checkout location from another within the same store.                                                                                                                                                 | [zone_till](https://docs.capillarytech.com/docs/dimension-tables#zone-till)                                                                                | Yes; Dimension Name: Store Hierarchy > Till Id             |
| dim_item_id                             | bigint    | Unique identifier generated by the system for the item.                                                                                                                                                                                                                                            | [item](https://docs.capillarytech.com/docs/dimension-tables#item)                                                                                          | Yes; Dimension Name: Item Id                               |
| dim_latest_updated_date_id              | bigint    | Date when the data corresponding to this event row is changed in the source table.                                                                                                                                                                                                                | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                                                                          | Yes; Dimension Name: Latest Updated Date > Date            |
| dim_latest_updated_time_id              | bigint    | Time when the data corresponding to this event row is changed in the source table.                                                                                                                                                                                                                | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                                                                          | Yes; Dimension Name: Latest Updated Time > Time Id         |
| dim_line_item_outlier_status_id         | bigint    | Identifier of the outlier status of the bill at the line item level. Possible values are - failed, deleted, fraud, invalid, etc.                                                                                                                                                                   | [outlier_status](https://docs.capillarytech.com/docs/dimension-tables#outlier-status)                                                                      | Yes; Dimension Name: Line Item Outlier > Id                |
| dim_line_item_type_id                   | bigint    | Identifier for the type of line item. Possible values are add on item, combo item, combo parent, and split.                                                                                                                                                                                        | [line_item_type](https://docs.capillarytech.com/docs/dimension-tables#line-item-type)                                                                      | Yes; Dimension Name: Line Item Type > Id                   |
| dim_lineitem_cashier_discount_reason_id | bigint    | Identifier of the reason behind the discount applied to the lineitem. Possible values for discount are manager_discount, gift_card_discount, employee_discount, member_discount, incorrect_label, advertisement, wrong_display, bulk_customer, wrong_scan, customer, display, faulty, and damaged. | [lineitem_cashier_discount_reason](https://docs.capillarytech.com/docs/dimension-tables#reason-for-the-cashier-discount-line-item-cashier-discount-reason) | Yes; Dimension Name: Lineitem Cashier Discount Reason > Id |
| dim_lineitem_cashier_id                 | bigint    | Identifier of the cashier who processed the transaction.                                                                                                                                                                                                                                           | [lineitem_cashier_id](https://docs.capillarytech.com/docs/dimension-tables#line-item-cashier-id)                                                           | Yes; Dimension Name: Lineitem Cashier > Id                 |
| dim_lineitem_discount_type_id           | bigint    | Identifier of the type of discount given to the customer. Possible values are flat discount, percentage discount, etc.                                                                                                                                                                             | [lineitem_discount_type](https://docs.capillarytech.com/docs/dimension-tables#line-item-discount-type)                                                     | Yes; Dimension Name: Item Discount Type > Id               |
| dim_lineitem_external_coupon_code_id    | bigint    | Coupon code id if any external coupon has been applied on the lineitems.                                                                                                                                                                                                                           | [lineitem_external_coupon_code](https://docs.capillarytech.com/docs/dimension-tables#line-item-external-coupon-code)                                       | Yes; Dimension Name: Lineitem External Coupon Code > Id    |
| dim_lineitem_return_reason_id           | bigint    | Identifier of the reason for returning the lineitem.                                                                                                                                                                                                                                               | [lineitem_return_reason_id](https://docs.capillarytech.com/docs/dimension-tables#line-item-return-reason-id)                                               | Yes; Dimension Name: Lineitem Return Reason > Id           |
| dim_loyalty_type_id                     | bigint    | Identifier of the Loyalty type of the customer. Possible values are - loyalty non loyalty not registered (who have not provided their contact details).                                                                                                                                          | [loyalty_type](https://docs.capillarytech.com/docs/dimension-tables#loyalty-type)                                                                          | Yes; Dimension Name: Loyalty > Id                          |
| dim_membership_card_present_id          | bigint    | Indicates whether a membership card is present for the customer or not.                                                                                                                                                                                                                            | [membership_card_present](https://docs.capillarytech.com/docs/dimension-tables#membership-card-present)                                                    | Yes; Dimension Name: Membership Card Present > Id          |
| dim_nps_id                              | bigint    | Net Promoter Score (NPS) for the transaction, where NPS is a measure for customer satisfaction, ranging from 1 to 10.                                                                                                                                                                              | [nps_score](https://docs.capillarytech.com/docs/dimension-tables#nps-score)                                                                                | Yes; Dimension Name: Nps > Id                              |
| dim_order_channel_id                    | bigint    | Identifier for the order channel associated with a transaction. It indicates the specific channel through which the transaction was completed. Possible values are online, in-store, through a mobile app, etc.                                                                                    | [order_channel](https://docs.capillarytech.com/docs/dimension-tables#order-channel)                                                                        | Yes; Dimension Name: Order Channel > Id                    |
| dim_parent_item_id                      | bigint    | Identifier of the parent item (for transactions with combo, split or add-on items).                                                                                                                                                                                                                | [line_item_type](https://docs.capillarytech.com/docs/dimension-tables#line-item-type)                                                                      | Yes; Dimension Name: Parent Item > Item Id                 |
| dim_promotion_code_id                   | bigint    | Helps to link to the lineitem promotion code.                                                                                                                                                                                                                                                      | [lineitem_promotion_code](https://docs.capillarytech.com/docs/dimension-tables#line-item-promotion-code)                                                   | Yes; Dimension Name: Item Promotion Code > Id              |
| dim_repeat_status_id                    | bigint    | Shows if the customer has made previous purchases or if it's their first transaction.                                                                                                                                                                                                              | [repeat_status](https://docs.capillarytech.com/docs/dimension-tables#repeat-status)                                                                        | Yes; Dimension Name: Repeat Status                         |
| dim_source_type_id                      | bigint    | Identifier for the source of the bill. Possible values are instore, e-comm, newsletter, campaigns, NCA, Wechat, Facebook, etc.                                                                                                                                                                     | [source_type](https://docs.capillarytech.com/docs/dimension-tables#source-type)                                                                            | Yes; Dimension Name: Source Type > Id                      |
| dim_special_lineitem_type_id            | bigint    | Identifier for the line item type. Possible values are - a free item, items belongs to a product set, processing fee information, etc.                                                                                                                                                             | [line_item_type](https://docs.capillarytech.com/docs/dimension-tables#line-item-type)                                                                      | Yes; Dimension Name: Special Lineitem Type > Id            |
| dim_tax_code_id                         | bigint    | Unique identifier or code assigned to a specific tax category. They include GST at the central and state levels, interstate GST, and taxes levied to the total bill.                                                                                                                               | [lineitem_tax_code](https://docs.capillarytech.com/docs/dimension-tables#line-item-tax-code)                                                               | Yes; Dimension Name: Item Tax Code > Id                    |
| initial_bill_value                      | double    | Represents the original bill amount before any discounts are applied.                                                                                                                                                                                                                              | \_                                                                                                                                                         | Yes; Measure Name: Initial Bill Value                      |
| initial_line_item_value                 | double    | Indicates the original value of a line item within the transaction before any discounts are applied.                                                                                                                                                                                               | \_                                                                                                                                                         | Yes; Measure Name: Initial Line Item Value                 |
| integrated_gst                          | double    | GST levied by the Central Government for inter-state trade.                                                                                                                                                                                                                                        | \_                                                                                                                                                         | Yes; Measure Name: Integrated Gst                          |
| item_code                               | string    | Unique code assigned to a line item within the transaction.                                                                                                                                                                                                                                        | \_                                                                                                                                                         | Yes; Measure Name: Item Code                               |
| item_coupon_discount                    | double    | Represents any discount applied to the line item using coupons.                                                                                                                                                                                                                                    | \_                                                                                                                                                         | Yes; Measure Name: Item Coupon Discount                    |
| item_discount_description               | string    | Provides a description of why the discount has been applied to the item.                                                                                                                                                                                                                           | \_                                                                                                                                                         | Yes; Measure Name: Item Discount Description               |
| item_point_discount                     | double    | Denotes any discount applied to the line item using loyalty points.                                                                                                                                                                                                                                | \_                                                                                                                                                         | Yes; Measure Name: Item Points discount                    |
| item_unit_margin                        | double    | Indicates the profit margin associated with the item.                                                                                                                                                                                                                                              | \_                                                                                                                                                         | Yes; Measure Name: Item Unit Margin                        |
| items_in_product_set                    | integer   | Provides the count of the item within a product set.                                                                                                                                                                                                                                               | \_                                                                                                                                                         | Yes; Measure Name: Items In Product Set                    |
| line_item_amount                        | double    | Represents the total amount for the line item after discounts and taxes have been applied.                                                                                                                                                                                                         | \_                                                                                                                                                         | Yes; Measure Name: Line Item Amount                        |
| line_item_discount                      | double    | Denotes the discount given for the particular line item.                                                                                                                                                                                                                                           | \_                                                                                                                                                         | Yes; Measure Name: Line Item Discount                      |
| line_item_id                            | bigint    | Unique identifier generated by the system for the line item. It is the primary key of the table.                                                                                                                                                                                                   | \_                                                                                                                                                         | Yes; Measure Name: Line Item Id                            |
| lineitem_central_gst                    | double    | GST levied by the Central Government on the line item.                                                                                                                                                                                                                                             | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Central Gst                    |
| lineitem_integrated_gst                 | double    | Integrated GST levied by the Central Government on the line item.                                                                                                                                                                                                                                  | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Integrated Gst                 |
| lineitem_serial_number                  | string    | Contains the serial number assigned to the line item.                                                                                                                                                                                                                                              | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Serial Number                  |
| lineitem_service_tax_amount             | double    | Represents the amount of service tax applicable to the line item.                                                                                                                                                                                                                                  | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Service Tax Amount             |
| lineitem_service_tax_percentage         | double    | Denotes the percentage of service tax levied to the line item.                                                                                                                                                                                                                                     | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Service Tax Percentage         |
| lineitem_size                           | string    | Indicates the size of the line item.                                                                                                                                                                                                                                                               | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Size                           |
| lineitem_state_gst                      | double    | State GST applicable to the line item.                                                                                                                                                                                                                                                             | \_                                                                                                                                                         | Yes; Measure Name: Lineitem State Gst                      |
| lineitem_uuid                           | string    | Contains a universally unique identifier (UUID) assigned to the line item.                                                                                                                                                                                                                         | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Uuid                           |
| lineitem_vat_amount                     | double    | Amount of VAT levied by the Central Government on the line item.                                                                                                                                                                                                                                   | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Vat Amount                     |
| lineitem_vat_tax_percentage             | double    | Percentage of VAT levied by the Central Government on the line item.                                                                                                                                                                                                                               | \_                                                                                                                                                         | Yes; Measure Name: Lineitem Vat Tax Percentage             |
| notes                                   | string    | Additional information added while creating the line item.                                                                                                                                                                                                                                         | \_                                                                                                                                                         | Yes; Measure Name: Notes                                   |
| parent_line_item_id                     | bigint    | Identifier of the parent line item (for transactions with combo or add-on items).                                                                                                                                                                                                                  | \_                                                                                                                                                         | Yes; Measure Name: Parent Line Item Id                     |
| quantity                                | double    | Number of units lineitems bought.                                                                                                                                                                                                                                                                 | \_                                                                                                                                                         | Yes; Measure Name: Quantity                                |
| rate                                    | double    | Total cost of a line item, obtained by multiplying the item price by the quantity purchased.                                                                                                                                                                                                       | \_                                                                                                                                                         | Yes; Measure Name: Rate                                    |
| reason                                  | string    | Captures the reason for the transaction.                                                                                                                                                                                                                                                           | \_                                                                                                                                                         | Yes; Measure Name: Reason                                  |
| redeemed_points                         | double    | Points redeemed on the bill level.                                                                                                                                                                                                                                                                 | \_                                                                                                                                                         | Yes; Measure Name: Redeemed Points                         |
| state_gst                               | double    | Taxes levied by the State Government on the bill.                                                                                                                                                                                                                                                  | \_                                                                                                                                                         | Yes; Measure Name: Lineitem State Gst                      |
| tax_amount                              | double    | Total amount of tax levied on the bill.                                                                                                                                                                                                                                                            | \_                                                                                                                                                         | Yes; Measure Name: Tax Amount                              |
| total_quantity                          | integer   | Total number of line items in the bill.                                                                                                                                                                                                                                                            | \_                                                                                                                                                         | Yes; Measure Name: Total Quantity                          |
| total_unit_cost                         | double    | Gives the total price of the line items (line item cost multiplied by the number of units).                                                                                                                                                                                                        | \_                                                                                                                                                         | Yes; Measure Name: Total Unit Cost                         |
| visit_count                             | bigint    | Total number of visits made by a customer. It is based on the number of transactions recorded for the customer.                                                                                                                                                                                    | \_                                                                                                                                                         | Yes; Measure Name: Visit Count                             |
| visit_day_count                         | bigint    | Total number of visits made by a customer based on dates. Even if the customer visits multiple times on a particular day, it will only count as one day in the visit count.                                                                                                                        | \_                                                                                                                                                         | Yes; Measure Name: Visit Day Count                         |
| year                                    | integer   | Year when the transaction was done.                                                                                                                                                                                                                                                                | \_                                                                                                                                                         | Yes; Dimension Name: Year                                  |
| dim_membership_id                       | bigint    | Membership type of the customer who completed the transaction. Possible values are - member not interested loyalty-not-interested. It is the primary key of the Bill_Lineitems facts table.                                                                                                      | \_                                                                                                                                                         | Yes; Dimension Name: Membership > Id                       |

<br  />

# Daily Till Summary


This facts table captures the daily transactions conducted at a specific point of sale (POS) terminal (till).

**Daily Till Summary Entity Relationship Diagram**

**Daily Till Summary Fact Table**

| Column Name                          | Data Type | Description                                                                                                                                                                            | Linked Table                                                                |
| ------------------------------------ | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| dim_event_date_id                    | bigint    | Date of the transaction. It is the primary key of the table.                                                                                                                           | [date](https://docs.capillarytech.com/docs/dimension-tables#date)           |
| dim_event_zone_till_id               | bigint    | Identifier assigned to the point-of-sale (POS) terminal within a store. It distinguishes one checkout location from another within the same store. It is the primary key of the table. | [zone_till](https://docs.capillarytech.com/docs/dimension-tables#zone-till) |
| not_interested_bill_count            | bigint    | Number of bills generated from purchases of not-interested customers.                                                                                                                  |                                                                             |
| points_redeemed                      | double    | Total points redeemed by the transactions made through the till (Point of sale counter).                                                                                               |                                                                             |
| total_bills                          | bigint    | Total number of bills generated through the till.                                                                                                                                      |                                                                             |
| member_returns                       | bigint    | Total count of returns from members.                                                                                                                                                   |                                                                             |
| points_returned                      | double    | Total points reverted because of return transactions.                                                                                                                                  |                                                                             |
| total_sales                          | double    | Total sales generated at the till including taxes and discounts.                                                                                                                       |                                                                             |
| non_loyalty_sales                    | double    | Sales generated from non-loyalty customers.                                                                                                                                            |                                                                             |
| non_member_returns                   | bigint    | Count of returns made by non-members.                                                                                                                                                  |                                                                             |
| extra_sales                          | double    | The total sales amount generated from bills where points were redeemed at the till.                                                                                                    |                                                                             |
| number_of_non_loyalty_bills          | bigint    | Number of bills generated for non-loyalty customers.                                                                                                                                   |                                                                             |
| non_loyalty_sales_from_lineitem      | double    | Total sales from all the line items purchased by non-loyalty customers.                                                                                                                |                                                                             |
| number_of_loyal_repeat_customers     | bigint    | Total number of loyalty customers who have made more than one purchase.                                                                                                                |                                                                             |
| points_redeemers                     | bigint    | Number of customers who redeemed points.                                                                                                                                               |                                                                             |
| test_responder_sales                 | double    | Sales generated from customers who responded to campaign messages (test group).                                                                                                        |                                                                             |
| loyalty_sales                        | double    | Sales generated from transactions made by loyalty customers.                                                                                                                           |                                                                             |
| number_of_non_loyal_repeat_customers | bigint    | Number of non-loyalty customers who made repeated transactions.                                                                                                                        |                                                                             |
| new_non_loyal_transacted_customers   | bigint    | Count of customers who are not part of any loyalty program and have made their initial purchases.                                                                                      |                                                                             |
| non_member_sales                     | double    | Sales generated from purchases done by non-loyalty members.                                                                                                                            |                                                                             |
| not_interested_sales                 | double    | Sales generated from not-interested customers.                                                                                                                                         |                                                                             |
| loyalty_sales_from_lineitem          | double    | Total sales from all the line items purchased by loyalty customers.                                                                                                                    |                                                                             |
| coupons_issued                       | bigint    | Total number of coupons issued through the till.                                                                                                                                       |                                                                             |
| coupons_redeemed                     | bigint    | Total number of coupons redeemed through the till.                                                                                                                                     |                                                                             |
| points_expired                       | double    | The total points that expired on a given date, which were originally awarded from the same till in the past.                                                                           |                                                                             |
| member_sales                         | double    | Sales generated from loyalty customers.                                                                                                                                                |                                                                             |
| new_loyal_transacted_customers       | bigint    | Count of customers who have newly enrolled in a loyalty program and have made their initial purchases.                                                                                 |                                                                             |
| number_of_loyalty_bills              | bigint    | Number of bills generated by loyalty customers.                                                                                                                                        |                                                                             |
| points_issued                        | double    | Total points issued through transactions made at the particular till.                                                                                                                  |                                                                             |
| year                                 | int       | Year of the transaction.                                                                                                                                                               |                                                                             |

<br  />

# Goodwill Requests


This table records the generation of goodwill requests. It includes information such as number of goodwill points that have been approved, Loyalty program against which the goodwill points have been allocated, date and time when the request was made, etc.

**Goodwill Requests Entity Relationship Diagram**

Zoom in the table for more clarity. Click the table title to view its details.

**Goodwill requests facts table**

| Column Name                 | Data Type | Description                                                                                                                                                                                              | Linked Table                                                                            | Available for Export in Goodwill Requests Template |
| :-------------------------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------- | :------------------------------------------------- |
| allocated_points            | double    | Total number of goodwill points issued to the customer.                                                                                                                                                  |                                                                                         | Yes; Measure Name: Allocated Points                |
| approval_comments           | string    | Comments added by the approver for the goodwill point allocation request.                                                                                                                                |                                                                                         | Yes; Measure Name: Approval Comments               |
| approved_value              | string    | Value of the points that has been approved.                                                                                                                                                              |                                                                                         | Yes; Measure Name: Approved Value                  |
| comments                    | string    | Any remarks related to the goodwill points, added by the user.                                                                                                                                           |                                                                                         | Yes; Measure Name: Comments                        |
| dim_event_program_id        | bigint    | Gives the loyalty program name against which the goodwill points have been allocated.                                                                                                                    | [program](https://docs.capillarytech.com/docs/dimension-tables#program)                 | Yes; Dimension Name: Event Program                 |
| dim_event_user_id           | bigint    | Identifies the user associated with the event. It is an internally assigned value by Capillary for user identification.                                                                                  | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)               | Yes; Dimension Name: User Id                       |
| dim_event_zone_till_id      | bigint    | Identifier assigned to the point-of-sale (POS) terminal within a store. It distinguishes one checkout location from another within the same store.                                                       | [zone_till](https://docs.capillarytech.com/docs/dimension-tables#zone-till)             | Yes; Dimension Name: Store Hierarchy               |
| dim_latest_updated_date_id  | bigint    | Date when the data corresponding to this event row is changed in the source table.                                                                                                                      | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                       | Yes; Dimension Name: Date                          |
| dim_latest_updated_time_id  | bigint    | Time when the data corresponding to this event row is changed in the source table.                                                                                                                      | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                       | Yes; Dimension Name: Date                          |
| dim_points_category_id      | bigint    | Gives the category name against which the goodwill points have been allocated. Possible values are - Regular points, Trackers, Promised points, Alternate currencies, and External trigger based points. | [points_category](https://docs.capillarytech.com/docs/dimension-tables#points-category) | Yes; Dimension Name: Points Category               |
| dim_request_created_date_id | bigint    | Date when the goodwill request was created.                                                                                                                                                              | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                       | Yes; Dimension Name: Date                          |
| dim_request_updated_date_id | bigint    | Date when the goodwill request was updated.                                                                                                                                                              | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                       | Yes; Dimension Name: Date                          |
| event_id                    | bigint    | Unique identifier for the Goodwill points table. It is the primary key for this table.                                                                                                                   |                                                                                         | Yes; Measure Name: Event Id                        |
| goodwill_points_log_notes   | string    | Additional information about goodwill points.                                                                                                                                                            |                                                                                         | Yes; Measure Name: GoodWill Points log notes       |
| goodwill_points_log_status  | bigint    | Status indicator for the goodwill points log.                                                                                                                                                            |                                                                                         | Yes; Measure Name: GoodWill Points Log Status      |
| goodwill_points_logs_id     | bigint    | Unique identifier for each entry in the goodwill points log.                                                                                                                                             |                                                                                         | Yes; Measure Name: Goodwill Points Logs Id         |
| goodwill_request_status     | string    | Status of the goodwill request associated with the points. Whether is the status is approved or not.                                                                                                     |                                                                                         | Yes; Measure Name: Goodwill Request Status         |
| goodwill_type               | string    | Type or category of the goodwill points. Possible values are - Coupon, and Points.                                                                                                                       |                                                                                         | Yes; Measure Name: Goodwill Type                   |
| gpl_auto_update_time        | bigint    | Time when the goodwill points logs table available at the source was last updated. It is in the Unix timestamp format.                                                                                   |                                                                                         | Yes; Measure Name: Gpl Auto Update Time            |
| gr_auto_update_time         | bigint    | Time when the goodwill request table available at the source was last updated. It is in the Unix timestamp format.                                                                                       |                                                                                         | Yes; Measure Name: Gr Auto Update Time             |
| is_one_step_change          | bigint    | Indicates if one step issual of goodwill points is active or not. In one step issual, goodwill points are issued instantly without requiring additional approval steps.                                  |                                                                                         | Yes; Measure Name: Is One Step Change              |
| points_event_id             | bigint    | Refers to the points fact table event id.                                                                                                                                                                |                                                                                         | Yes; Measure Name: Points event Id                 |
| reason                      | string    | Reason for the goodwill request.                                                                                                                                                                         |                                                                                         | Yes; Measure Name: Reason                          |
| request_assoc_id            | bigint    | Associated ID for the goodwill request.                                                                                                                                                                  |                                                                                         | Yes; Measure Name: Request Assoc Id                |
| request_auto_update_time    | bigint    | Time when the goodwill request table available at the source was last updated. It is in the Unix timestamp format.                                                                                       |                                                                                         | Yes; Measure Name: Request Auto Update Time        |
| request_status              | string    | Status of the request. Possible values are - Pending, Approved, and Rejected.                                                                                                                            |                                                                                         | Yes; Measure Name: Request Status                  |
| request_type                | string    | Type of the request.                                                                                                                                                                                     |                                                                                         | Yes; Measure Name: Request Type                    |
| year                        | integer   | Year when the goodwill points are issued.                                                                                                                                                                |                                                                                         | Yes; Dimension Name: Year                          |

<br  />

# Badges


## Introduction to Badges Facts Tables


Badges are a type of visual recognition used in loyalty programs to reward customers for their progress, specific actions or achievements. They act as a form of gamification and instill a sense of pride and accomplishment within the user, thus, reinforcing the targeted behaviors and boosting engagement.

For more information about how badges work in Capillary product suite, please refer to the [Badges Documentation](https://docs.capillarytech.com/docs/introduction-to-badges).  This part of the documentation covers how you can analyze and report on badges featured in the Capillary system.

There are a few crucial elements of Badges lifecycle which a user would like to track and analyze. They include events such as earning a badge (without enrolment), the issual of badge (based on enrolment) and the promotions linked with the badge. The information of these events are stored in the form of fact and dimension tables based on star schema.  
The fact tables store the details of these events and the corresponding dimension tables contain the fields on the basis of which the entries in these fact tables can be grouped/filtered for reporting.

**Badges Entity Relationship Diagram**

Zoom in the table for more clarity. Click the table title to view its details.

## Badges - Earn (badges_earn)


Each row in this table represents an event in which a customer earns a badge on completing a specified activity or meeting a set of pre-defined criteria. This doesnt require the customer to enrol for the badge beforehand. It captures information like the badge ID, customer ID, earning date, expiry date, and whether the badge is active or revoked.

For example-  
When a customer registers, they automatically receive the "New Member" badge if the configuration specifies that pre-enrollment is not needed. These types of events are stored in the Badges_earn fact table.  
By linking this fact table with the dimension tables, you would be able to have a complete picture of this event.

**Badges Earn Fact Table**

| Column name                  | Data type | Description                                                                                                                                                                                                                                                                                                                                                                                         | Linked Table                                                                                                 | Available for Export in Badges Earn Template    |
| ---------------------------- | --------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------- | :---------------------------------------------- |
| auto_update_time_badges_earn | bigint    | Date and time when the badges_earn table was last updated. It is in the Unix timestamp format. The update takes place only when the badge deactivation occurs.                                                                                                                                                                                                                                      |                                                                                                              | Yes; Measure Name: Auto Update Time Badges Earn |
| dim_badgeMeta_id             | string    | Unique identifier assigned to a badge when it is generated. It is a common key that connects to the badgeMeta dimension table for providing badge details.                                                                                                                                                                                                                                          | [badgemeta](https://docs.capillarytech.com/docs/dimension-tables#badges-meta-badgemeta)                      | Yes; Dimension Name: Badgemeta                  |
| dim_badges_earn_active_id    | bigint    | Indicates if the badge is currently active or not.                                                                                                                                                                                                                                                                                                                                                  | [enabled](https://docs.capillarytech.com/docs/dimension-tables#enabled)                                      | Yes; Dimension Name: Badges Earn Active         |
| dim_badges_owner_type_id     | string    | Provides information about the module (name) that granted the customer a particular badge. For instance, if the badge was awarded by the Journeys module, you can retrieve Journeys module details by linking to the badges_owner_type field using this column. The types of modules are - Loyalty Referral_Campaigns Journeys Auidence_Campaigns Rewards_Catalog Goodwill_Module Milestones. | [badges_owner_type](https://docs.capillarytech.com/docs/dimension-tables#badge-owner-type-badges_owner_type) | Yes; Dimension Name: Badges Owner Type          |
| dim_createdOn_date_id        | bigint    | Date on which the badge was earned by the customer.                                                                                                                                                                                                                                                                                                                                                 | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                       |
| dim_createdOn_id             | bigint    | Time when the badge was earned by the customer.                                                                                                                                                                                                                                                                                                                                                     | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                       |
| dim_customer_id              | bigint    | Unique identifier for the customer associated with the badge.                                                                                                                                                                                                                                                                                                                                       | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)                                    | Yes; Dimension Name: Customer user Id           |
| dim_event_date_id            | bigint    | Date on which the badge was earned.                                                                                                                                                                                                                                                                                                                                                                 | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                       |
| dim_event_time_id            | bigint    | Time when the badge was earned.                                                                                                                                                                                                                                                                                                                                                                     | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                       |
| dim_expiresOn_date_id        | bigint    | Date on which the badge expires.                                                                                                                                                                                                                                                                                                                                                                    | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                       |
| dim_expiresOn_id             | bigint    | Time when the badge expires.                                                                                                                                                                                                                                                                                                                                                                        | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                       |
| dim_latest_updated_date_id   | bigint    | Date when the table was last updated.                                                                                                                                                                                                                                                                                                                                                               | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                       |
| dim_latest_updated_time_id   | bigint    | Time when the table was last updated.                                                                                                                                                                                                                                                                                                                                                               | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                       |
| earnId                       | string    | Unique identifier assigned to each row of the earn badges facts table. It is the primary key of this table. It is useful in accessing information related to the customer, badge earn date, badge expiration details, etc.                                                                                                                                                                          |                                                                                                              | Yes; Measure Name: Earnid                       |
| isActive                     | string    | Indicates if the badge is currently active or not.                                                                                                                                                                                                                                                                                                                                                  |                                                                                                              | Yes; Measure Name: Isactive                     |
| lastUpdatedBy                | bigint    | Identifier of the user who last updated the badge. It could be a brand representative, a Customer Success Manager (CSM), or someone similar.                                                                                                                                                                                                                                                        |                                                                                                              | Yes; Measure Name: Lastupdatedby                |
| ownerReferenceId             | string    | Orchestered ID assigned to the module responsible for awarding the badge, e.g, milestone id, journey id, campaign id, loyalty id, etc.                                                                                                                                                                                                                                                              |                                                                                                              | Yes; Measure Name: Ownerreferenceid             |
| year                         | int       | Year of the event.                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                              | Yes; Dimension Name: Year                       |

<br  />

## Badges - Issue (badges_issue)


Each row in this table represents the event, where the customer has to enrol in the badge before they can earn it. It captures information like the badge ID, customer ID, issuance date, expiry date, and whether the badge is active or revoked.

For example-  
A brand launches a campaign to ensure proactive engagement. In this campaign, the first 1000 participants would have the opportunity to become premium members. As configured, the "premium member" badge requires pre-enrollment. Therefore, such types of events are stored in this table.

**Badges Issue Fact Table**

| Column Name                   | Data Type | Description                                                                                                                                                                                                                                                                                                                                                                                         | Linked Table                                                                                                 | Available for Export in Badges Issue Template    |
| ----------------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------- | :----------------------------------------------- |
| auto_update_time_badges_issue | bigint    | Date and time when the badges_issue table was last updated. It is in the Unix timestamp format. The update takes place only when the badge deactivation occurs.                                                                                                                                                                                                                                     |                                                                                                              | Yes; Measure Name: Auto Update Time Badges Issue |
| badges_issued_id              | string    | It is an unique identifier for the 'badges issued' facts table. As a primary key, it uniquely identifies each record or entry within the table. It allows tracking and analysis of individual badge issuance events.                                                                                                                                                                                |                                                                                                              | Yes; Measure Name: Badges Issued Id              |
| createdBy                     | bigint    | Identifier of the user who issued the badge, such a brand representative.                                                                                                                                                                                                                                                                                                                           |                                                                                                              | Yes; Measure Name: Createdby                     |
| dim_badgeMeta_id              | string    | Unique identifier assigned to a badge when it is generated. It is a common key that connects to the badgeMeta dimension table for providing badge details.                                                                                                                                                                                                                                          | [badgemeta](https://docs.capillarytech.com/docs/dimension-tables#badges-meta-badgemeta)                      | Yes; Dimension Name: Badgemeta                   |
| dim_badges_issue_active_id    | bigint    | Indicates whether the badge is currently active or not.                                                                                                                                                                                                                                                                                                                                             | [enabled](https://docs.capillarytech.com/docs/dimension-tables#enabled)                                      | Yes; Dimension Name: Badges Issue Active         |
| dim_badges_owner_type_id      | string    | Provides information about the module (name) that granted the customer a particular badge. For instance, if the badge was awarded by the Journeys module, you can retrieve Journeys module details by linking to the badges_owner_type field using this column. The types of modules are - Loyalty Referral_Campaigns Journeys Auidence_Campaigns Rewards_Catalog Goodwill_Module Milestones. | [badges_owner_type](https://docs.capillarytech.com/docs/dimension-tables#badge-owner-type-badges_owner_type) | Yes; Dimension Name: Badges Owner Type           |
| dim_createdOn_date_id         | bigint    | Date when the badge was issued to the customer.                                                                                                                                                                                                                                                                                                                                                     | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                        |
| dim_createdOn_id              | bigint    | Time when the badge was issued to the customer.                                                                                                                                                                                                                                                                                                                                                     | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                        |
| dim_customer_id               | bigint    | Unique identifier for the customer associated with the badge.                                                                                                                                                                                                                                                                                                                                       | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)                                    | Yes; Dimension Name: Customer user Id            |
| dim_event_date_id             | bigint    | Date on which the badge was issued.                                                                                                                                                                                                                                                                                                                                                                 | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                        |
| dim_event_time_id             | bigint    | Time when the badge was issued.                                                                                                                                                                                                                                                                                                                                                                     | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                        |
| dim_expiresOn_date_id         | bigint    | Date on which the badge expires.                                                                                                                                                                                                                                                                                                                                                                    | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                        |
| dim_expiresOn_id              | bigint    | Time when the badge expires.                                                                                                                                                                                                                                                                                                                                                                        | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                        |
| dim_latest_updated_date_id    | bigint    | Date when the table was last updated.                                                                                                                                                                                                                                                                                                                                                               | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                            | Yes; Dimension Name: Date                        |
| dim_latest_updated_time_id    | bigint    | Time when the table was last updated.                                                                                                                                                                                                                                                                                                                                                               | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                            | Yes; Dimension Name: Time                        |
| isActive                      | string    | Indicates whether the badge is currently active or not.                                                                                                                                                                                                                                                                                                                                             |                                                                                                              | Yes; Measure Name: Isactive                      |
| lastUpdatedBy                 | bigint    | Identifier of the user who last updated the badge. It could be a brand representative, a Customer Success Manager (CSM), or someone similar.                                                                                                                                                                                                                                                        |                                                                                                              | Yes; Measure Name: Lastupdatedby                 |
| ownerReferenceId              | string    | Orchestered ID assigned to the module responsible for awarding the badge, e.g. milestone id, journey id, campaign id, loyalty id, etc.                                                                                                                                                                                                                                                              |                                                                                                              | Yes; Measure Name: Ownerreferenceid              |
| requestId                     | string    | It is a request ID generated during the issue of a badge. This ID serves as a reference point for tracking and managing the issuance of badges.                                                                                                                                                                                                                                                     |                                                                                                              | Yes; Measure Name: Requestid                     |
| year                          | int       | Year of the event.                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                              | Yes; Dimension Name: Year                        |

## Badges - Earned benefit (badges_earned_benefits)


Each row in this table represents the event, wherein the promotions or benefits are linked to the badge. It captures information on the benefit type, coupon code, points earned, and validity of the benefit that comes along.

For example-  
A brand wants to run a campaign where customers who purchase items worth Rs. 10,000 during the campaign will earn a "Super Customer" badge. Additionally, the brand will provide extra coupons to "Super Customers." Here, the event of badge creation is linked to a promotion, and thus such events will be captured in this table.

**Badges Earned Benefits Fact Table**

| Column Name                           | Data Type | Description                                                                                                                                                                                                                                                     | Linked Table                                                                                      | Available for Export in Badges Earned Benefits Template  |
| ------------------------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------ | :------------------------------------------------------- |
| allocationStrategyId                  | bigint    | Denotes the strategy selected to allocate points for badges. In case of tier-based allocation, points are allocated according to predefined tiers or categories.                                                                                                |                                                                                                   | Yes: Measure Name: Allocationstrategyid                  |
| auto_update_time_badges_benefits_earn | bigint    | Date and time when the badges_benefits_earn table was last updated. It is in the Unix timestamp format. The update takes place only when the badge deactivation occurs.                                                                                         |                                                                                                   | Yes: Measure Name: Auto Update Time Badges Benefits Earn |
| benefitType                           | string    | Type of benefit linked to the badge. The benefit types are: coupons and points.                                                                                                                                                                                 |                                                                                                   | Yes: Measure Name: Benefittype                           |
| couponCode                            | string    | The coupon code associated with the benefit. It is generated by the coupons system.                                                                                                                                                                             |                                                                                                   | Yes: Measure Name: Couponcode                            |
| description                           | string    | Description of the coupon.                                                                                                                                                                                                                                      |                                                                                                   | Yes: Measure Name: Description                           |
| dim_badgeMeta_id                      | string    | Unique identifier assigned to a badge when it is generated. It is a common key that connects to the badgeMeta dimension table for providing badge details.                                                                                                      | [badgemeta](https://docs.capillarytech.com/docs/dimension-tables#badges-meta-badgemeta)           | Yes; Dimension Name: Badgemeta                           |
| dim_coupon_series_id                  | string    | Unique identifier for coupon series id. Whenever a coupon is generated, it is allocated a unique coupon series ID. It links to the coupon series dimension table, establishing a relationship between the benefits earned and the details of the coupon series. | [coupon_series](https://docs.capillarytech.com/docs/dimension-tables#coupon-series-coupon_series) | Yes; Dimension Name: Coupon Series                       |
| dim_customer_id                       | bigint    | Unique identifier for the customer associated with the badge.                                                                                                                                                                                                   | [users](https://docs.capillarytech.com/docs/dimension-tables#users-users)                         | Yes; Dimension Name: Customer user Id                    |
| dim_event_date_id                     | bigint    | Date on which the benefit (coupon or point) was earned.                                                                                                                                                                                                         | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                 | Yes; Dimension Name: Date                                |
| dim_event_time_id                     | bigint    | Time when the benefit (coupon or point) was earned.                                                                                                                                                                                                             | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                 | Yes; Dimension Name: Time                                |
| dim_latest_updated_date_id            | bigint    | Date when the table was last updated.                                                                                                                                                                                                                           | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                 | Yes; Dimension Name: Date                                |
| dim_latest_updated_time_id            | bigint    | Time when the table was last updated.                                                                                                                                                                                                                           | [time](https://docs.capillarytech.com/docs/dimension-tables#time)                                 | Yes; Dimension Name: Time                                |
| dim_validTill_id                      | bigint    | Denotes the coupon validity date.                                                                                                                                                                                                                               | [date](https://docs.capillarytech.com/docs/dimension-tables#date)                                 | Yes; Dimension Name: Validtill                           |
| discountCode                          | string    | Discount code associated with the coupon series.                                                                                                                                                                                                                |                                                                                                   | Yes; Measure Name: Discountcode                          |
| discountType                          | string    | Type of discount. Can be ABS - absolute discount type where the discount value is fixed, or percent discount or a fixed discount.                                                                                                                               |                                                                                                   | Yes; Measure Name: Discounttype                          |
| earnId                                | string    | Unique identifier for the badges_earn table.                                                                                                                                                                                                                    |                                                                                                   | Yes; Measure Name: Earnid                                |
| expirationStrategyId                  | bigint    | Denotes the strategy used for deciding how points expire for the customer, such as fixed expiry date, or no expiry, etc.                                                                                                                                        |                                                                                                   | Yes; Measure Name: Expirationstrategyid                  |
| notes                                 | string    | Provides additional information or remarks related to badges.                                                                                                                                                                                                   |                                                                                                   | Yes; Measure Name: Notes                                 |
| pointsEarned                          | bigint    | Points earned by the customer.                                                                                                                                                                                                                                  |                                                                                                   | Yes; Measure Name: Pointsearned                          |
| programId                             | bigint    | The Loyalty program ID is the identifier assigned to the loyalty program linked to the allocated points.                                                                                                                                                        |                                                                                                   | Yes; Measure Name: Programid                             |
| promoIdentifier                       | string    | Unique identifier assigned to a promotion.                                                                                                                                                                                                                      |                                                                                                   | Yes; Measure Name: Promoidentifier                       |
| promotionId                           | string    | Unique id assigned to a particular promotion.                                                                                                                                                                                                                   |                                                                                                   | Yes; Measure Name: Promotionid                           |
| promotionName                         | string    | Refers to the name of the promotion to which points were allocated, redeemed, or expired.                                                                                                                                                                       |                                                                                                   | Yes; Measure Name: Promotionname                         |
| statusCode                            | int       | Status code for the action (used for internal purpose).                                                                                                                                                                                                         |                                                                                                   | Yes; Measure Name: Statuscode                            |
| uniqueId                              | string    | Unique identifier for the table. As a primary key, it uniquely identifies each record or entry within the table. It allows tracking and analysis of individual badge benefits events.                                                                           |                                                                                                   | Yes; Measure Name: Uniqueid                              |
| year                                  | int       | Year of the event.                                                                                                                                                                                                                                              |                                                                                                   | Yes; Dimension Name: Year                                |

# Streaks


| Column name                | Data type |
| -------------------------- | --------- |
| auto_update_time           | bigint    |
| current_count              | bigint    |
| dim_event_date_id          | bigint    |
| dim_event_time_id          | bigint    |
| dim_event_user_id          | bigint    |
| dim_latest_updated_date_id | bigint    |
| dim_latest_updated_time_id | bigint    |
| dim_streak_id              | bigint    |
| dim_streak_status_id       | string    |
| id                         | bigint    |
| year                       | int       |

# Rewards


| Column name                   | Data type | Description                                               |
| ----------------------------- | --------- | :-------------------------------------------------------- |
| BRAND_ID                      | bigint    | Unique identifier of the brand.                           |
| ID                            | bigint    |                                                           |
| INTOUCH_POINTS_DEDUCTED       | String    |                                                           |
| INTOUCH_USER_ID               | bigint    | The intouch user ID of the customer.                      |
| INTOUCH_VOUCHER               | String    |                                                           |
| INTOUCH_VOUCHER_EXPIRY        | String    |                                                           |
| ISSUED_REF_ID                 | String    |                                                           |
| MOBILE                        | String    |                                                           |
| ORG_ID                        | bigint    | The identifier associated with the org.                   |
| POINTS_REF_ID                 | bigint    |                                                           |
| REWARD_PROMOTION_LINK_ID      | bigint    |                                                           |
| VENDOR_REWARD                 | String    |                                                           |
| dim_catalog_promotion_id      | bigint    |                                                           |
| dim_event_date_id             | bigint    |                                                           |
| dim_latest_updated_date_id    | bigint    | The date on which the last update was made to the reward. |
| dim_latest_updated_time_id    | bigint    | The time at which the last update was made to the reward. |
| dim_reward_id                 | bigint    | Unique identifier of the reward.                          |
| dim_reward_issue_update_on_id | bigint    | The time at which the reward was issued.                  |
| year                          | int       |                                                           |